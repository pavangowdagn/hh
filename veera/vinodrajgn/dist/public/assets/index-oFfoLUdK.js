(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Du={exports:{}},ri={},Uu={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ir=Symbol.for("react.element"),Ch=Symbol.for("react.portal"),Ph=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),Rh=Symbol.for("react.provider"),Ah=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Ih=Symbol.for("react.memo"),Dh=Symbol.for("react.lazy"),da=Symbol.iterator;function Uh(t){return t===null||typeof t!="object"?null:(t=da&&t[da]||t["@@iterator"],typeof t=="function"?t:null)}var Fu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mu=Object.assign,zu={};function Mn(t,e,n){this.props=t,this.context=e,this.refs=zu,this.updater=n||Fu}Mn.prototype.isReactComponent={};Mn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bu(){}Bu.prototype=Mn.prototype;function dl(t,e,n){this.props=t,this.context=e,this.refs=zu,this.updater=n||Fu}var hl=dl.prototype=new Bu;hl.constructor=dl;Mu(hl,Mn.prototype);hl.isPureReactComponent=!0;var ha=Array.isArray,Vu=Object.prototype.hasOwnProperty,fl={current:null},Hu={key:!0,ref:!0,__self:!0,__source:!0};function Wu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Vu.call(e,r)&&!Hu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ir,type:t,key:i,ref:o,props:s,_owner:fl.current}}function Fh(t,e){return{$$typeof:Ir,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ir}function Mh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fa=/\/+/g;function Pi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mh(""+t.key):e.toString(36)}function gs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ir:case Ch:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Pi(o,0):r,ha(s)?(n="",t!=null&&(n=t.replace(fa,"$&/")+"/"),gs(s,e,n,"",function(c){return c})):s!=null&&(pl(s)&&(s=Fh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ha(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Pi(i,l);o+=gs(i,e,n,a,s)}else if(a=Uh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Pi(i,l++),o+=gs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kr(t,e,n){if(t==null)return t;var r=[],s=0;return gs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ye={current:null},ys={transition:null},Bh={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:ys,ReactCurrentOwner:fl};function qu(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Kr,forEach:function(t,e,n){Kr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kr(t,function(){e++}),e},toArray:function(t){return Kr(t,function(e){return e})||[]},only:function(t){if(!pl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Mn;$.Fragment=Ph;$.Profiler=Oh;$.PureComponent=dl;$.StrictMode=Th;$.Suspense=$h;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bh;$.act=qu;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Mu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=fl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Vu.call(e,a)&&!Hu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ir,type:t.type,key:s,ref:i,props:r,_owner:o}};$.createContext=function(t){return t={$$typeof:Ah,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rh,_context:t},t.Consumer=t};$.createElement=Wu;$.createFactory=function(t){var e=Wu.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Lh,render:t}};$.isValidElement=pl;$.lazy=function(t){return{$$typeof:Dh,_payload:{_status:-1,_result:t},_init:zh}};$.memo=function(t,e){return{$$typeof:Ih,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=ys.transition;ys.transition={};try{t()}finally{ys.transition=e}};$.unstable_act=qu;$.useCallback=function(t,e){return ye.current.useCallback(t,e)};$.useContext=function(t){return ye.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return ye.current.useDeferredValue(t)};$.useEffect=function(t,e){return ye.current.useEffect(t,e)};$.useId=function(){return ye.current.useId()};$.useImperativeHandle=function(t,e,n){return ye.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return ye.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return ye.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return ye.current.useMemo(t,e)};$.useReducer=function(t,e,n){return ye.current.useReducer(t,e,n)};$.useRef=function(t){return ye.current.useRef(t)};$.useState=function(t){return ye.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return ye.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return ye.current.useTransition()};$.version="18.3.1";Uu.exports=$;var P=Uu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=P,Hh=Symbol.for("react.element"),Wh=Symbol.for("react.fragment"),qh=Object.prototype.hasOwnProperty,Kh=Vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gh={key:!0,ref:!0,__self:!0,__source:!0};function Ku(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qh.call(e,r)&&!Gh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Hh,type:t,key:i,ref:o,props:s,_owner:Kh.current}}ri.Fragment=Wh;ri.jsx=Ku;ri.jsxs=Ku;Du.exports=ri;var u=Du.exports,Gu={exports:{}},Te={},Qu={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,R){var A=C.length;C.push(R);e:for(;0<A;){var Q=A-1>>>1,ee=C[Q];if(0<s(ee,R))C[Q]=R,C[A]=ee,A=Q;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var R=C[0],A=C.pop();if(A!==R){C[0]=A;e:for(var Q=0,ee=C.length,Wr=ee>>>1;Q<Wr;){var Ft=2*(Q+1)-1,Ci=C[Ft],Mt=Ft+1,qr=C[Mt];if(0>s(Ci,A))Mt<ee&&0>s(qr,Ci)?(C[Q]=qr,C[Mt]=A,Q=Mt):(C[Q]=Ci,C[Ft]=A,Q=Ft);else if(Mt<ee&&0>s(qr,A))C[Q]=qr,C[Mt]=A,Q=Mt;else break e}}return R}function s(C,R){var A=C.sortIndex-R.sortIndex;return A!==0?A:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,f=3,v=!1,_=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=C)r(c),R.sortIndex=R.expirationTime,e(a,R);else break;R=n(c)}}function y(C){if(x=!1,g(C),!_)if(n(a)!==null)_=!0,Ei(k);else{var R=n(c);R!==null&&bi(y,R.startTime-C)}}function k(C,R){_=!1,x&&(x=!1,p(E),E=-1),v=!0;var A=f;try{for(g(R),h=n(a);h!==null&&(!(h.expirationTime>R)||C&&!le());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var ee=Q(h.expirationTime<=R);R=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(a)&&r(a),g(R)}else r(a);h=n(a)}if(h!==null)var Wr=!0;else{var Ft=n(c);Ft!==null&&bi(y,Ft.startTime-R),Wr=!1}return Wr}finally{h=null,f=A,v=!1}}var j=!1,S=null,E=-1,U=5,O=-1;function le(){return!(t.unstable_now()-O<U)}function et(){if(S!==null){var C=t.unstable_now();O=C;var R=!0;try{R=S(!0,C)}finally{R?tt():(j=!1,S=null)}}else j=!1}var tt;if(typeof m=="function")tt=function(){m(et)};else if(typeof MessageChannel<"u"){var on=new MessageChannel,Eh=on.port2;on.port1.onmessage=et,tt=function(){Eh.postMessage(null)}}else tt=function(){w(et,0)};function Ei(C){S=C,j||(j=!0,tt())}function bi(C,R){E=w(function(){C(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,Ei(k))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var A=f;f=R;try{return C()}finally{f=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var A=f;f=C;try{return R()}finally{f=A}},t.unstable_scheduleCallback=function(C,R,A){var Q=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Q+A:Q):A=Q,C){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=A+ee,C={id:d++,callback:R,priorityLevel:C,startTime:A,expirationTime:ee,sortIndex:-1},A>Q?(C.sortIndex=A,e(c,C),n(a)===null&&C===n(c)&&(x?(p(E),E=-1):x=!0,bi(y,A-Q))):(C.sortIndex=ee,e(a,C),_||v||(_=!0,Ei(k))),C},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(C){var R=f;return function(){var A=f;f=R;try{return C.apply(this,arguments)}finally{f=A}}}})(Ju);Qu.exports=Ju;var Qh=Qu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=P,Pe=Qh;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xu=new Set,yr={};function nn(t,e){Rn(t,e),Rn(t+"Capture",e)}function Rn(t,e){for(yr[t]=e,t=0;t<e.length;t++)Xu.add(e[t])}var ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=Object.prototype.hasOwnProperty,Xh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pa={},ma={};function Yh(t){return uo.call(ma,t)?!0:uo.call(pa,t)?!1:Xh.test(t)?ma[t]=!0:(pa[t]=!0,!1)}function Zh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ef(t,e,n,r){if(e===null||typeof e>"u"||Zh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ve(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oe[t]=new ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oe[e]=new ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oe[t]=new ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oe[t]=new ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oe[t]=new ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oe[t]=new ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oe[t]=new ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oe[t]=new ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oe[t]=new ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var ml=/[\-:]([a-z])/g;function gl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ml,gl);oe[e]=new ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ml,gl);oe[e]=new ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ml,gl);oe[e]=new ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oe[t]=new ve(t,1,!1,t.toLowerCase(),null,!1,!1)});oe.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oe[t]=new ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function yl(t,e,n,r){var s=oe.hasOwnProperty(e)?oe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ef(e,n,s,r)&&(n=null),r||s===null?Yh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ft=Jh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gr=Symbol.for("react.element"),fn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),vl=Symbol.for("react.strict_mode"),co=Symbol.for("react.profiler"),Yu=Symbol.for("react.provider"),Zu=Symbol.for("react.context"),wl=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),xl=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),ec=Symbol.for("react.offscreen"),ga=Symbol.iterator;function Wn(t){return t===null||typeof t!="object"?null:(t=ga&&t[ga]||t["@@iterator"],typeof t=="function"?t:null)}var q=Object.assign,Ti;function er(t){if(Ti===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ti=e&&e[1]||""}return`
`+Ti+t}var Oi=!1;function Ri(t,e){if(!t||Oi)return"";Oi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Oi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?er(t):""}function tf(t){switch(t.tag){case 5:return er(t.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return t=Ri(t.type,!1),t;case 11:return t=Ri(t.type.render,!1),t;case 1:return t=Ri(t.type,!0),t;default:return""}}function po(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pn:return"Fragment";case fn:return"Portal";case co:return"Profiler";case vl:return"StrictMode";case ho:return"Suspense";case fo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zu:return(t.displayName||"Context")+".Consumer";case Yu:return(t._context.displayName||"Context")+".Provider";case wl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xl:return e=t.displayName||null,e!==null?e:po(t.type)||"Memo";case gt:e=t._payload,t=t._init;try{return po(t(e))}catch{}}return null}function nf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(e);case 8:return e===vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rf(t){var e=tc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qr(t){t._valueTracker||(t._valueTracker=rf(t))}function nc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mo(t,e){var n=e.checked;return q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ya(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rc(t,e){e=e.checked,e!=null&&yl(t,"checked",e,!1)}function go(t,e){rc(t,e);var n=Rt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yo(t,e.type,n):e.hasOwnProperty("defaultValue")&&yo(t,e.type,Rt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function va(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yo(t,e,n){(e!=="number"||Cs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tr=Array.isArray;function Nn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(tr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rt(n)}}function sc(t,e){var n=Rt(e.value),r=Rt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ic(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ic(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jr,oc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jr=Jr||document.createElement("div"),Jr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sf=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(t){sf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ir[e]=ir[t]})});function lc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ir.hasOwnProperty(t)&&ir[t]?(""+e).trim():e+"px"}function ac(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=lc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var of=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(t,e){if(e){if(of[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function _o(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=null;function _l(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var So=null,En=null,bn=null;function _a(t){if(t=Fr(t)){if(typeof So!="function")throw Error(N(280));var e=t.stateNode;e&&(e=ai(e),So(t.stateNode,t.type,e))}}function uc(t){En?bn?bn.push(t):bn=[t]:En=t}function cc(){if(En){var t=En,e=bn;if(bn=En=null,_a(t),e)for(t=0;t<e.length;t++)_a(e[t])}}function dc(t,e){return t(e)}function hc(){}var Ai=!1;function fc(t,e,n){if(Ai)return t(e,n);Ai=!0;try{return dc(t,e,n)}finally{Ai=!1,(En!==null||bn!==null)&&(hc(),cc())}}function wr(t,e){var n=t.stateNode;if(n===null)return null;var r=ai(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var jo=!1;if(ut)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){jo=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{jo=!1}function lf(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var or=!1,Ps=null,Ts=!1,No=null,af={onError:function(t){or=!0,Ps=t}};function uf(t,e,n,r,s,i,o,l,a){or=!1,Ps=null,lf.apply(af,arguments)}function cf(t,e,n,r,s,i,o,l,a){if(uf.apply(this,arguments),or){if(or){var c=Ps;or=!1,Ps=null}else throw Error(N(198));Ts||(Ts=!0,No=c)}}function rn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ka(t){if(rn(t)!==t)throw Error(N(188))}function df(t){var e=t.alternate;if(!e){if(e=rn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ka(s),t;if(i===r)return ka(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function mc(t){return t=df(t),t!==null?gc(t):null}function gc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gc(t);if(e!==null)return e;t=t.sibling}return null}var yc=Pe.unstable_scheduleCallback,Sa=Pe.unstable_cancelCallback,hf=Pe.unstable_shouldYield,ff=Pe.unstable_requestPaint,J=Pe.unstable_now,pf=Pe.unstable_getCurrentPriorityLevel,kl=Pe.unstable_ImmediatePriority,vc=Pe.unstable_UserBlockingPriority,Os=Pe.unstable_NormalPriority,mf=Pe.unstable_LowPriority,wc=Pe.unstable_IdlePriority,si=null,Ye=null;function gf(t){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(si,t,void 0,(t.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:wf,yf=Math.log,vf=Math.LN2;function wf(t){return t>>>=0,t===0?32:31-(yf(t)/vf|0)|0}var Xr=64,Yr=4194304;function nr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=nr(l):(i&=o,i!==0&&(r=nr(i)))}else o=n&~s,o!==0?r=nr(o):i!==0&&(r=nr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qe(e),s=1<<n,r|=t[n],e&=~s;return r}function xf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _f(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qe(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=xf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Eo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xc(){var t=Xr;return Xr<<=1,!(Xr&4194240)&&(Xr=64),t}function Li(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qe(e),t[e]=n}function kf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var D=0;function _c(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kc,jl,Sc,jc,Nc,bo=!1,Zr=[],jt=null,Nt=null,Et=null,xr=new Map,_r=new Map,wt=[],Sf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ja(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":xr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(e.pointerId)}}function Kn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fr(e),e!==null&&jl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function jf(t,e,n,r,s){switch(e){case"focusin":return jt=Kn(jt,t,e,n,r,s),!0;case"dragenter":return Nt=Kn(Nt,t,e,n,r,s),!0;case"mouseover":return Et=Kn(Et,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xr.set(i,Kn(xr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_r.set(i,Kn(_r.get(i)||null,t,e,n,r,s)),!0}return!1}function Ec(t){var e=qt(t.target);if(e!==null){var n=rn(e);if(n!==null){if(e=n.tag,e===13){if(e=pc(n),e!==null){t.blockedOn=e,Nc(t.priority,function(){Sc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Co(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ko=r,n.target.dispatchEvent(r),ko=null}else return e=Fr(n),e!==null&&jl(e),t.blockedOn=n,!1;e.shift()}return!0}function Na(t,e,n){vs(t)&&n.delete(e)}function Nf(){bo=!1,jt!==null&&vs(jt)&&(jt=null),Nt!==null&&vs(Nt)&&(Nt=null),Et!==null&&vs(Et)&&(Et=null),xr.forEach(Na),_r.forEach(Na)}function Gn(t,e){t.blockedOn===e&&(t.blockedOn=null,bo||(bo=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,Nf)))}function kr(t){function e(s){return Gn(s,t)}if(0<Zr.length){Gn(Zr[0],t);for(var n=1;n<Zr.length;n++){var r=Zr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jt!==null&&Gn(jt,t),Nt!==null&&Gn(Nt,t),Et!==null&&Gn(Et,t),xr.forEach(e),_r.forEach(e),n=0;n<wt.length;n++)r=wt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wt.length&&(n=wt[0],n.blockedOn===null);)Ec(n),n.blockedOn===null&&wt.shift()}var Cn=ft.ReactCurrentBatchConfig,As=!0;function Ef(t,e,n,r){var s=D,i=Cn.transition;Cn.transition=null;try{D=1,Nl(t,e,n,r)}finally{D=s,Cn.transition=i}}function bf(t,e,n,r){var s=D,i=Cn.transition;Cn.transition=null;try{D=4,Nl(t,e,n,r)}finally{D=s,Cn.transition=i}}function Nl(t,e,n,r){if(As){var s=Co(t,e,n,r);if(s===null)Hi(t,e,r,Ls,n),ja(t,r);else if(jf(s,t,e,n,r))r.stopPropagation();else if(ja(t,r),e&4&&-1<Sf.indexOf(t)){for(;s!==null;){var i=Fr(s);if(i!==null&&kc(i),i=Co(t,e,n,r),i===null&&Hi(t,e,r,Ls,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hi(t,e,r,null,n)}}var Ls=null;function Co(t,e,n,r){if(Ls=null,t=_l(r),t=qt(t),t!==null)if(e=rn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ls=t,null}function bc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pf()){case kl:return 1;case vc:return 4;case Os:case mf:return 16;case wc:return 536870912;default:return 16}default:return 16}}var kt=null,El=null,ws=null;function Cc(){if(ws)return ws;var t,e=El,n=e.length,r,s="value"in kt?kt.value:kt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ws=s.slice(t,1<r?1-r:void 0)}function xs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function es(){return!0}function Ea(){return!1}function Oe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?es:Ea,this.isPropagationStopped=Ea,this}return q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),e}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Oe(zn),Ur=q({},zn,{view:0,detail:0}),Cf=Oe(Ur),$i,Ii,Qn,ii=q({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?($i=t.screenX-Qn.screenX,Ii=t.screenY-Qn.screenY):Ii=$i=0,Qn=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:Ii}}),ba=Oe(ii),Pf=q({},ii,{dataTransfer:0}),Tf=Oe(Pf),Of=q({},Ur,{relatedTarget:0}),Di=Oe(Of),Rf=q({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Af=Oe(Rf),Lf=q({},zn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$f=Oe(Lf),If=q({},zn,{data:0}),Ca=Oe(If),Df={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ff={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ff[t])?!!e[t]:!1}function Cl(){return Mf}var zf=q({},Ur,{key:function(t){if(t.key){var e=Df[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(t){return t.type==="keypress"?xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bf=Oe(zf),Vf=q({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pa=Oe(Vf),Hf=q({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Wf=Oe(Hf),qf=q({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kf=Oe(qf),Gf=q({},ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qf=Oe(Gf),Jf=[9,13,27,32],Pl=ut&&"CompositionEvent"in window,lr=null;ut&&"documentMode"in document&&(lr=document.documentMode);var Xf=ut&&"TextEvent"in window&&!lr,Pc=ut&&(!Pl||lr&&8<lr&&11>=lr),Ta=" ",Oa=!1;function Tc(t,e){switch(t){case"keyup":return Jf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mn=!1;function Yf(t,e){switch(t){case"compositionend":return Oc(e);case"keypress":return e.which!==32?null:(Oa=!0,Ta);case"textInput":return t=e.data,t===Ta&&Oa?null:t;default:return null}}function Zf(t,e){if(mn)return t==="compositionend"||!Pl&&Tc(t,e)?(t=Cc(),ws=El=kt=null,mn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pc&&e.locale!=="ko"?null:e.data;default:return null}}var ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ra(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ep[t.type]:e==="textarea"}function Rc(t,e,n,r){uc(r),e=$s(e,"onChange"),0<e.length&&(n=new bl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ar=null,Sr=null;function tp(t){Vc(t,0)}function oi(t){var e=vn(t);if(nc(e))return t}function np(t,e){if(t==="change")return e}var Ac=!1;if(ut){var Ui;if(ut){var Fi="oninput"in document;if(!Fi){var Aa=document.createElement("div");Aa.setAttribute("oninput","return;"),Fi=typeof Aa.oninput=="function"}Ui=Fi}else Ui=!1;Ac=Ui&&(!document.documentMode||9<document.documentMode)}function La(){ar&&(ar.detachEvent("onpropertychange",Lc),Sr=ar=null)}function Lc(t){if(t.propertyName==="value"&&oi(Sr)){var e=[];Rc(e,Sr,t,_l(t)),fc(tp,e)}}function rp(t,e,n){t==="focusin"?(La(),ar=e,Sr=n,ar.attachEvent("onpropertychange",Lc)):t==="focusout"&&La()}function sp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oi(Sr)}function ip(t,e){if(t==="click")return oi(e)}function op(t,e){if(t==="input"||t==="change")return oi(e)}function lp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ge=typeof Object.is=="function"?Object.is:lp;function jr(t,e){if(Ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!uo.call(e,s)||!Ge(t[s],e[s]))return!1}return!0}function $a(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ia(t,e){var n=$a(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$a(n)}}function $c(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$c(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ic(){for(var t=window,e=Cs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cs(t.document)}return e}function Tl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ap(t){var e=Ic(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$c(n.ownerDocument.documentElement,n)){if(r!==null&&Tl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ia(n,i);var o=Ia(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var up=ut&&"documentMode"in document&&11>=document.documentMode,gn=null,Po=null,ur=null,To=!1;function Da(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;To||gn==null||gn!==Cs(r)||(r=gn,"selectionStart"in r&&Tl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ur&&jr(ur,r)||(ur=r,r=$s(Po,"onSelect"),0<r.length&&(e=new bl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gn)))}function ts(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yn={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionend:ts("Transition","TransitionEnd")},Mi={},Dc={};ut&&(Dc=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function li(t){if(Mi[t])return Mi[t];if(!yn[t])return t;var e=yn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dc)return Mi[t]=e[n];return t}var Uc=li("animationend"),Fc=li("animationiteration"),Mc=li("animationstart"),zc=li("transitionend"),Bc=new Map,Ua="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lt(t,e){Bc.set(t,e),nn(e,[t])}for(var zi=0;zi<Ua.length;zi++){var Bi=Ua[zi],cp=Bi.toLowerCase(),dp=Bi[0].toUpperCase()+Bi.slice(1);Lt(cp,"on"+dp)}Lt(Uc,"onAnimationEnd");Lt(Fc,"onAnimationIteration");Lt(Mc,"onAnimationStart");Lt("dblclick","onDoubleClick");Lt("focusin","onFocus");Lt("focusout","onBlur");Lt(zc,"onTransitionEnd");Rn("onMouseEnter",["mouseout","mouseover"]);Rn("onMouseLeave",["mouseout","mouseover"]);Rn("onPointerEnter",["pointerout","pointerover"]);Rn("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(rr));function Fa(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cf(r,e,void 0,t),t.currentTarget=null}function Vc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Fa(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Fa(s,l,c),i=a}}}if(Ts)throw t=No,Ts=!1,No=null,t}function z(t,e){var n=e[$o];n===void 0&&(n=e[$o]=new Set);var r=t+"__bubble";n.has(r)||(Hc(e,t,2,!1),n.add(r))}function Vi(t,e,n){var r=0;e&&(r|=4),Hc(n,t,r,e)}var ns="_reactListening"+Math.random().toString(36).slice(2);function Nr(t){if(!t[ns]){t[ns]=!0,Xu.forEach(function(n){n!=="selectionchange"&&(hp.has(n)||Vi(n,!1,t),Vi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ns]||(e[ns]=!0,Vi("selectionchange",!1,e))}}function Hc(t,e,n,r){switch(bc(e)){case 1:var s=Ef;break;case 4:s=bf;break;default:s=Nl}n=s.bind(null,e,n,t),s=void 0,!jo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}fc(function(){var c=i,d=_l(n),h=[];e:{var f=Bc.get(t);if(f!==void 0){var v=bl,_=t;switch(t){case"keypress":if(xs(n)===0)break e;case"keydown":case"keyup":v=Bf;break;case"focusin":_="focus",v=Di;break;case"focusout":_="blur",v=Di;break;case"beforeblur":case"afterblur":v=Di;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Wf;break;case Uc:case Fc:case Mc:v=Af;break;case zc:v=Kf;break;case"scroll":v=Cf;break;case"wheel":v=Qf;break;case"copy":case"cut":case"paste":v=$f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Pa}var x=(e&4)!==0,w=!x&&t==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var m=c,g;m!==null;){g=m;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,p!==null&&(y=wr(m,p),y!=null&&x.push(Er(m,y,g)))),w)break;m=m.return}0<x.length&&(f=new v(f,_,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==ko&&(_=n.relatedTarget||n.fromElement)&&(qt(_)||_[ct]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=c,_=_?qt(_):null,_!==null&&(w=rn(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=c),v!==_)){if(x=ba,y="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(x=Pa,y="onPointerLeave",p="onPointerEnter",m="pointer"),w=v==null?f:vn(v),g=_==null?f:vn(_),f=new x(y,m+"leave",v,n,d),f.target=w,f.relatedTarget=g,y=null,qt(d)===c&&(x=new x(p,m+"enter",_,n,d),x.target=g,x.relatedTarget=w,y=x),w=y,v&&_)t:{for(x=v,p=_,m=0,g=x;g;g=ln(g))m++;for(g=0,y=p;y;y=ln(y))g++;for(;0<m-g;)x=ln(x),m--;for(;0<g-m;)p=ln(p),g--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=ln(x),p=ln(p)}x=null}else x=null;v!==null&&Ma(h,f,v,x,!1),_!==null&&w!==null&&Ma(h,w,_,x,!0)}}e:{if(f=c?vn(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var k=np;else if(Ra(f))if(Ac)k=op;else{k=sp;var j=rp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=ip);if(k&&(k=k(t,c))){Rc(h,k,n,d);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&yo(f,"number",f.value)}switch(j=c?vn(c):window,t){case"focusin":(Ra(j)||j.contentEditable==="true")&&(gn=j,Po=c,ur=null);break;case"focusout":ur=Po=gn=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,Da(h,n,d);break;case"selectionchange":if(up)break;case"keydown":case"keyup":Da(h,n,d)}var S;if(Pl)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else mn?Tc(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Pc&&n.locale!=="ko"&&(mn||E!=="onCompositionStart"?E==="onCompositionEnd"&&mn&&(S=Cc()):(kt=d,El="value"in kt?kt.value:kt.textContent,mn=!0)),j=$s(c,E),0<j.length&&(E=new Ca(E,t,null,n,d),h.push({event:E,listeners:j}),S?E.data=S:(S=Oc(n),S!==null&&(E.data=S)))),(S=Xf?Yf(t,n):Zf(t,n))&&(c=$s(c,"onBeforeInput"),0<c.length&&(d=new Ca("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}Vc(h,e)})}function Er(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $s(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wr(t,n),i!=null&&r.unshift(Er(t,i,s)),i=wr(t,e),i!=null&&r.push(Er(t,i,s))),t=t.return}return r}function ln(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ma(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=wr(n,i),a!=null&&o.unshift(Er(n,a,l))):s||(a=wr(n,i),a!=null&&o.push(Er(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fp=/\r\n?/g,pp=/\u0000|\uFFFD/g;function za(t){return(typeof t=="string"?t:""+t).replace(fp,`
`).replace(pp,"")}function rs(t,e,n){if(e=za(e),za(t)!==e&&n)throw Error(N(425))}function Is(){}var Oo=null,Ro=null;function Ao(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lo=typeof setTimeout=="function"?setTimeout:void 0,mp=typeof clearTimeout=="function"?clearTimeout:void 0,Ba=typeof Promise=="function"?Promise:void 0,gp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ba<"u"?function(t){return Ba.resolve(null).then(t).catch(yp)}:Lo;function yp(t){setTimeout(function(){throw t})}function Wi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),kr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);kr(e)}function bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Va(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Bn,br="__reactProps$"+Bn,ct="__reactContainer$"+Bn,$o="__reactEvents$"+Bn,vp="__reactListeners$"+Bn,wp="__reactHandles$"+Bn;function qt(t){var e=t[Xe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ct]||n[Xe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Va(t);t!==null;){if(n=t[Xe])return n;t=Va(t)}return e}t=n,n=t.parentNode}return null}function Fr(t){return t=t[Xe]||t[ct],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function ai(t){return t[br]||null}var Io=[],wn=-1;function $t(t){return{current:t}}function B(t){0>wn||(t.current=Io[wn],Io[wn]=null,wn--)}function M(t,e){wn++,Io[wn]=t.current,t.current=e}var At={},fe=$t(At),Se=$t(!1),Xt=At;function An(t,e){var n=t.type.contextTypes;if(!n)return At;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function je(t){return t=t.childContextTypes,t!=null}function Ds(){B(Se),B(fe)}function Ha(t,e,n){if(fe.current!==At)throw Error(N(168));M(fe,e),M(Se,n)}function Wc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,nf(t)||"Unknown",s));return q({},n,r)}function Us(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||At,Xt=fe.current,M(fe,t),M(Se,Se.current),!0}function Wa(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Wc(t,e,Xt),r.__reactInternalMemoizedMergedChildContext=t,B(Se),B(fe),M(fe,t)):B(Se),M(Se,n)}var it=null,ui=!1,qi=!1;function qc(t){it===null?it=[t]:it.push(t)}function xp(t){ui=!0,qc(t)}function It(){if(!qi&&it!==null){qi=!0;var t=0,e=D;try{var n=it;for(D=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}it=null,ui=!1}catch(s){throw it!==null&&(it=it.slice(t+1)),yc(kl,It),s}finally{D=e,qi=!1}}return null}var xn=[],_n=0,Fs=null,Ms=0,Re=[],Ae=0,Yt=null,ot=1,lt="";function Bt(t,e){xn[_n++]=Ms,xn[_n++]=Fs,Fs=t,Ms=e}function Kc(t,e,n){Re[Ae++]=ot,Re[Ae++]=lt,Re[Ae++]=Yt,Yt=t;var r=ot;t=lt;var s=32-qe(r)-1;r&=~(1<<s),n+=1;var i=32-qe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ot=1<<32-qe(e)+s|n<<s|r,lt=i+t}else ot=1<<i|n<<s|r,lt=t}function Ol(t){t.return!==null&&(Bt(t,1),Kc(t,1,0))}function Rl(t){for(;t===Fs;)Fs=xn[--_n],xn[_n]=null,Ms=xn[--_n],xn[_n]=null;for(;t===Yt;)Yt=Re[--Ae],Re[Ae]=null,lt=Re[--Ae],Re[Ae]=null,ot=Re[--Ae],Re[Ae]=null}var Ce=null,be=null,V=!1,We=null;function Gc(t,e){var n=Le(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qa(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ce=t,be=bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ce=t,be=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yt!==null?{id:ot,overflow:lt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Le(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ce=t,be=null,!0):!1;default:return!1}}function Do(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uo(t){if(V){var e=be;if(e){var n=e;if(!qa(t,e)){if(Do(t))throw Error(N(418));e=bt(n.nextSibling);var r=Ce;e&&qa(t,e)?Gc(r,n):(t.flags=t.flags&-4097|2,V=!1,Ce=t)}}else{if(Do(t))throw Error(N(418));t.flags=t.flags&-4097|2,V=!1,Ce=t}}}function Ka(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ce=t}function ss(t){if(t!==Ce)return!1;if(!V)return Ka(t),V=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ao(t.type,t.memoizedProps)),e&&(e=be)){if(Do(t))throw Qc(),Error(N(418));for(;e;)Gc(t,e),e=bt(e.nextSibling)}if(Ka(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){be=bt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}be=null}}else be=Ce?bt(t.stateNode.nextSibling):null;return!0}function Qc(){for(var t=be;t;)t=bt(t.nextSibling)}function Ln(){be=Ce=null,V=!1}function Al(t){We===null?We=[t]:We.push(t)}var _p=ft.ReactCurrentBatchConfig;function Jn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function is(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ga(t){var e=t._init;return e(t._payload)}function Jc(t){function e(p,m){if(t){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Ot(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,y){return m===null||m.tag!==6?(m=Zi(g,p.mode,y),m.return=p,m):(m=s(m,g),m.return=p,m)}function a(p,m,g,y){var k=g.type;return k===pn?d(p,m,g.props.children,y,g.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===gt&&Ga(k)===m.type)?(y=s(m,g.props),y.ref=Jn(p,m,g),y.return=p,y):(y=bs(g.type,g.key,g.props,null,p.mode,y),y.ref=Jn(p,m,g),y.return=p,y)}function c(p,m,g,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=eo(g,p.mode,y),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,y,k){return m===null||m.tag!==7?(m=Jt(g,p.mode,y,k),m.return=p,m):(m=s(m,g),m.return=p,m)}function h(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Zi(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Gr:return g=bs(m.type,m.key,m.props,null,p.mode,g),g.ref=Jn(p,null,m),g.return=p,g;case fn:return m=eo(m,p.mode,g),m.return=p,m;case gt:var y=m._init;return h(p,y(m._payload),g)}if(tr(m)||Wn(m))return m=Jt(m,p.mode,g,null),m.return=p,m;is(p,m)}return null}function f(p,m,g,y){var k=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(p,m,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gr:return g.key===k?a(p,m,g,y):null;case fn:return g.key===k?c(p,m,g,y):null;case gt:return k=g._init,f(p,m,k(g._payload),y)}if(tr(g)||Wn(g))return k!==null?null:d(p,m,g,y,null);is(p,g)}return null}function v(p,m,g,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(g)||null,l(m,p,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gr:return p=p.get(y.key===null?g:y.key)||null,a(m,p,y,k);case fn:return p=p.get(y.key===null?g:y.key)||null,c(m,p,y,k);case gt:var j=y._init;return v(p,m,g,j(y._payload),k)}if(tr(y)||Wn(y))return p=p.get(g)||null,d(m,p,y,k,null);is(m,y)}return null}function _(p,m,g,y){for(var k=null,j=null,S=m,E=m=0,U=null;S!==null&&E<g.length;E++){S.index>E?(U=S,S=null):U=S.sibling;var O=f(p,S,g[E],y);if(O===null){S===null&&(S=U);break}t&&S&&O.alternate===null&&e(p,S),m=i(O,m,E),j===null?k=O:j.sibling=O,j=O,S=U}if(E===g.length)return n(p,S),V&&Bt(p,E),k;if(S===null){for(;E<g.length;E++)S=h(p,g[E],y),S!==null&&(m=i(S,m,E),j===null?k=S:j.sibling=S,j=S);return V&&Bt(p,E),k}for(S=r(p,S);E<g.length;E++)U=v(S,p,E,g[E],y),U!==null&&(t&&U.alternate!==null&&S.delete(U.key===null?E:U.key),m=i(U,m,E),j===null?k=U:j.sibling=U,j=U);return t&&S.forEach(function(le){return e(p,le)}),V&&Bt(p,E),k}function x(p,m,g,y){var k=Wn(g);if(typeof k!="function")throw Error(N(150));if(g=k.call(g),g==null)throw Error(N(151));for(var j=k=null,S=m,E=m=0,U=null,O=g.next();S!==null&&!O.done;E++,O=g.next()){S.index>E?(U=S,S=null):U=S.sibling;var le=f(p,S,O.value,y);if(le===null){S===null&&(S=U);break}t&&S&&le.alternate===null&&e(p,S),m=i(le,m,E),j===null?k=le:j.sibling=le,j=le,S=U}if(O.done)return n(p,S),V&&Bt(p,E),k;if(S===null){for(;!O.done;E++,O=g.next())O=h(p,O.value,y),O!==null&&(m=i(O,m,E),j===null?k=O:j.sibling=O,j=O);return V&&Bt(p,E),k}for(S=r(p,S);!O.done;E++,O=g.next())O=v(S,p,E,O.value,y),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?E:O.key),m=i(O,m,E),j===null?k=O:j.sibling=O,j=O);return t&&S.forEach(function(et){return e(p,et)}),V&&Bt(p,E),k}function w(p,m,g,y){if(typeof g=="object"&&g!==null&&g.type===pn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Gr:e:{for(var k=g.key,j=m;j!==null;){if(j.key===k){if(k=g.type,k===pn){if(j.tag===7){n(p,j.sibling),m=s(j,g.props.children),m.return=p,p=m;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===gt&&Ga(k)===j.type){n(p,j.sibling),m=s(j,g.props),m.ref=Jn(p,j,g),m.return=p,p=m;break e}n(p,j);break}else e(p,j);j=j.sibling}g.type===pn?(m=Jt(g.props.children,p.mode,y,g.key),m.return=p,p=m):(y=bs(g.type,g.key,g.props,null,p.mode,y),y.ref=Jn(p,m,g),y.return=p,p=y)}return o(p);case fn:e:{for(j=g.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=eo(g,p.mode,y),m.return=p,p=m}return o(p);case gt:return j=g._init,w(p,m,j(g._payload),y)}if(tr(g))return _(p,m,g,y);if(Wn(g))return x(p,m,g,y);is(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,g),m.return=p,p=m):(n(p,m),m=Zi(g,p.mode,y),m.return=p,p=m),o(p)):n(p,m)}return w}var $n=Jc(!0),Xc=Jc(!1),zs=$t(null),Bs=null,kn=null,Ll=null;function $l(){Ll=kn=Bs=null}function Il(t){var e=zs.current;B(zs),t._currentValue=e}function Fo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pn(t,e){Bs=t,Ll=kn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ke=!0),t.firstContext=null)}function Ue(t){var e=t._currentValue;if(Ll!==t)if(t={context:t,memoizedValue:e,next:null},kn===null){if(Bs===null)throw Error(N(308));kn=t,Bs.dependencies={lanes:0,firstContext:t}}else kn=kn.next=t;return e}var Kt=null;function Dl(t){Kt===null?Kt=[t]:Kt.push(t)}function Yc(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Dl(e)):(n.next=s.next,s.next=n),e.interleaved=n,dt(t,r)}function dt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yt=!1;function Ul(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function at(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ct(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,I&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,dt(t,n)}return s=r.interleaved,s===null?(e.next=e,Dl(r)):(e.next=s.next,s.next=e),r.interleaved=e,dt(t,n)}function _s(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sl(t,n)}}function Qa(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vs(t,e,n,r){var s=t.updateQueue;yt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,x=l;switch(f=e,v=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){h=_.call(v,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,f=typeof _=="function"?_.call(v,h,f):_,f==null)break e;h=q({},h,f);break e;case 2:yt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);en|=o,t.lanes=o,t.memoizedState=h}}function Ja(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var Mr={},Ze=$t(Mr),Cr=$t(Mr),Pr=$t(Mr);function Gt(t){if(t===Mr)throw Error(N(174));return t}function Fl(t,e){switch(M(Pr,e),M(Cr,t),M(Ze,Mr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wo(e,t)}B(Ze),M(Ze,e)}function In(){B(Ze),B(Cr),B(Pr)}function ed(t){Gt(Pr.current);var e=Gt(Ze.current),n=wo(e,t.type);e!==n&&(M(Cr,t),M(Ze,n))}function Ml(t){Cr.current===t&&(B(Ze),B(Cr))}var H=$t(0);function Hs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ki=[];function zl(){for(var t=0;t<Ki.length;t++)Ki[t]._workInProgressVersionPrimary=null;Ki.length=0}var ks=ft.ReactCurrentDispatcher,Gi=ft.ReactCurrentBatchConfig,Zt=0,W=null,Y=null,ne=null,Ws=!1,cr=!1,Tr=0,kp=0;function ae(){throw Error(N(321))}function Bl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ge(t[n],e[n]))return!1;return!0}function Vl(t,e,n,r,s,i){if(Zt=i,W=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ks.current=t===null||t.memoizedState===null?Ep:bp,t=n(r,s),cr){i=0;do{if(cr=!1,Tr=0,25<=i)throw Error(N(301));i+=1,ne=Y=null,e.updateQueue=null,ks.current=Cp,t=n(r,s)}while(cr)}if(ks.current=qs,e=Y!==null&&Y.next!==null,Zt=0,ne=Y=W=null,Ws=!1,e)throw Error(N(300));return t}function Hl(){var t=Tr!==0;return Tr=0,t}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?W.memoizedState=ne=t:ne=ne.next=t,ne}function Fe(){if(Y===null){var t=W.alternate;t=t!==null?t.memoizedState:null}else t=Y.next;var e=ne===null?W.memoizedState:ne.next;if(e!==null)ne=e,Y=t;else{if(t===null)throw Error(N(310));Y=t,t={memoizedState:Y.memoizedState,baseState:Y.baseState,baseQueue:Y.baseQueue,queue:Y.queue,next:null},ne===null?W.memoizedState=ne=t:ne=ne.next=t}return ne}function Or(t,e){return typeof e=="function"?e(t):e}function Qi(t){var e=Fe(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Y,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((Zt&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,W.lanes|=d,en|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Ge(r,e.memoizedState)||(ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,W.lanes|=i,en|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ji(t){var e=Fe(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ge(i,e.memoizedState)||(ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function td(){}function nd(t,e){var n=W,r=Fe(),s=e(),i=!Ge(r.memoizedState,s);if(i&&(r.memoizedState=s,ke=!0),r=r.queue,Wl(id.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ne!==null&&ne.memoizedState.tag&1){if(n.flags|=2048,Rr(9,sd.bind(null,n,r,s,e),void 0,null),re===null)throw Error(N(349));Zt&30||rd(n,e,s)}return s}function rd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=W.updateQueue,e===null?(e={lastEffect:null,stores:null},W.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sd(t,e,n,r){e.value=n,e.getSnapshot=r,od(e)&&ld(t)}function id(t,e,n){return n(function(){od(e)&&ld(t)})}function od(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ge(t,n)}catch{return!0}}function ld(t){var e=dt(t,1);e!==null&&Ke(e,t,1,-1)}function Xa(t){var e=Je();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:t},e.queue=t,t=t.dispatch=Np.bind(null,W,t),[e.memoizedState,t]}function Rr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=W.updateQueue,e===null?(e={lastEffect:null,stores:null},W.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ad(){return Fe().memoizedState}function Ss(t,e,n,r){var s=Je();W.flags|=t,s.memoizedState=Rr(1|e,n,void 0,r===void 0?null:r)}function ci(t,e,n,r){var s=Fe();r=r===void 0?null:r;var i=void 0;if(Y!==null){var o=Y.memoizedState;if(i=o.destroy,r!==null&&Bl(r,o.deps)){s.memoizedState=Rr(e,n,i,r);return}}W.flags|=t,s.memoizedState=Rr(1|e,n,i,r)}function Ya(t,e){return Ss(8390656,8,t,e)}function Wl(t,e){return ci(2048,8,t,e)}function ud(t,e){return ci(4,2,t,e)}function cd(t,e){return ci(4,4,t,e)}function dd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hd(t,e,n){return n=n!=null?n.concat([t]):null,ci(4,4,dd.bind(null,e,t),n)}function ql(){}function fd(t,e){var n=Fe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pd(t,e){var n=Fe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function md(t,e,n){return Zt&21?(Ge(n,e)||(n=xc(),W.lanes|=n,en|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ke=!0),t.memoizedState=n)}function Sp(t,e){var n=D;D=n!==0&&4>n?n:4,t(!0);var r=Gi.transition;Gi.transition={};try{t(!1),e()}finally{D=n,Gi.transition=r}}function gd(){return Fe().memoizedState}function jp(t,e,n){var r=Tt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yd(t))vd(e,n);else if(n=Yc(t,e,n,r),n!==null){var s=ge();Ke(n,t,r,s),wd(n,e,r)}}function Np(t,e,n){var r=Tt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yd(t))vd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ge(l,o)){var a=e.interleaved;a===null?(s.next=s,Dl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Yc(t,e,s,r),n!==null&&(s=ge(),Ke(n,t,r,s),wd(n,e,r))}}function yd(t){var e=t.alternate;return t===W||e!==null&&e===W}function vd(t,e){cr=Ws=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sl(t,n)}}var qs={readContext:Ue,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useInsertionEffect:ae,useLayoutEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useMutableSource:ae,useSyncExternalStore:ae,useId:ae,unstable_isNewReconciler:!1},Ep={readContext:Ue,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:Ue,useEffect:Ya,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ss(4194308,4,dd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ss(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ss(4,2,t,e)},useMemo:function(t,e){var n=Je();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Je();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jp.bind(null,W,t),[r.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:Xa,useDebugValue:ql,useDeferredValue:function(t){return Je().memoizedState=t},useTransition:function(){var t=Xa(!1),e=t[0];return t=Sp.bind(null,t[1]),Je().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=W,s=Je();if(V){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),re===null)throw Error(N(349));Zt&30||rd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ya(id.bind(null,r,i,t),[t]),r.flags|=2048,Rr(9,sd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Je(),e=re.identifierPrefix;if(V){var n=lt,r=ot;n=(r&~(1<<32-qe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bp={readContext:Ue,useCallback:fd,useContext:Ue,useEffect:Wl,useImperativeHandle:hd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:pd,useReducer:Qi,useRef:ad,useState:function(){return Qi(Or)},useDebugValue:ql,useDeferredValue:function(t){var e=Fe();return md(e,Y.memoizedState,t)},useTransition:function(){var t=Qi(Or)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:td,useSyncExternalStore:nd,useId:gd,unstable_isNewReconciler:!1},Cp={readContext:Ue,useCallback:fd,useContext:Ue,useEffect:Wl,useImperativeHandle:hd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:pd,useReducer:Ji,useRef:ad,useState:function(){return Ji(Or)},useDebugValue:ql,useDeferredValue:function(t){var e=Fe();return Y===null?e.memoizedState=t:md(e,Y.memoizedState,t)},useTransition:function(){var t=Ji(Or)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:td,useSyncExternalStore:nd,useId:gd,unstable_isNewReconciler:!1};function Be(t,e){if(t&&t.defaultProps){e=q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var di={isMounted:function(t){return(t=t._reactInternals)?rn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ge(),s=Tt(t),i=at(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ct(t,i,s),e!==null&&(Ke(e,t,s,r),_s(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ge(),s=Tt(t),i=at(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ct(t,i,s),e!==null&&(Ke(e,t,s,r),_s(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ge(),r=Tt(t),s=at(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ct(t,s,r),e!==null&&(Ke(e,t,r,n),_s(e,t,r))}};function Za(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!jr(n,r)||!jr(s,i):!0}function xd(t,e,n){var r=!1,s=At,i=e.contextType;return typeof i=="object"&&i!==null?i=Ue(i):(s=je(e)?Xt:fe.current,r=e.contextTypes,i=(r=r!=null)?An(t,s):At),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=di,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function eu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&di.enqueueReplaceState(e,e.state,null)}function zo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ul(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ue(i):(i=je(e)?Xt:fe.current,s.context=An(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Mo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&di.enqueueReplaceState(s,s.state,null),Vs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dn(t,e){try{var n="",r=e;do n+=tf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Pp=typeof WeakMap=="function"?WeakMap:Map;function _d(t,e,n){n=at(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gs||(Gs=!0,Yo=r),Bo(t,e)},n}function kd(t,e,n){n=at(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Bo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bo(t,e),typeof r!="function"&&(Pt===null?Pt=new Set([this]):Pt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Pp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Vp.bind(null,t,e,n),e.then(t,t))}function nu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ru(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=at(-1,1),e.tag=2,Ct(n,e,1))),n.lanes|=1),t)}var Tp=ft.ReactCurrentOwner,ke=!1;function me(t,e,n,r){e.child=t===null?Xc(e,null,n,r):$n(e,t.child,n,r)}function su(t,e,n,r,s){n=n.render;var i=e.ref;return Pn(e,s),r=Vl(t,e,n,r,i,s),n=Hl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(V&&n&&Ol(e),e.flags|=1,me(t,e,r,s),e.child)}function iu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ea(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Sd(t,e,i,r,s)):(t=bs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:jr,n(o,r)&&t.ref===e.ref)return ht(t,e,s)}return e.flags|=1,t=Ot(i,r),t.ref=e.ref,t.return=e,e.child=t}function Sd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(jr(i,r)&&t.ref===e.ref)if(ke=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,ht(t,e,s)}return Vo(t,e,n,r,s)}function jd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},M(jn,Ee),Ee|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,M(jn,Ee),Ee|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,M(jn,Ee),Ee|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,M(jn,Ee),Ee|=r;return me(t,e,s,n),e.child}function Nd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vo(t,e,n,r,s){var i=je(n)?Xt:fe.current;return i=An(e,i),Pn(e,s),n=Vl(t,e,n,r,i,s),r=Hl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ht(t,e,s)):(V&&r&&Ol(e),e.flags|=1,me(t,e,n,s),e.child)}function ou(t,e,n,r,s){if(je(n)){var i=!0;Us(e)}else i=!1;if(Pn(e,s),e.stateNode===null)js(t,e),xd(e,n,r),zo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ue(c):(c=je(n)?Xt:fe.current,c=An(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&eu(e,o,r,c),yt=!1;var f=e.memoizedState;o.state=f,Vs(e,r,o,s),a=e.memoizedState,l!==r||f!==a||Se.current||yt?(typeof d=="function"&&(Mo(e,n,d,r),a=e.memoizedState),(l=yt||Za(e,n,l,r,f,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zc(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Be(e.type,l),o.props=c,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ue(a):(a=je(n)?Xt:fe.current,a=An(e,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&eu(e,o,r,a),yt=!1,f=e.memoizedState,o.state=f,Vs(e,r,o,s);var _=e.memoizedState;l!==h||f!==_||Se.current||yt?(typeof v=="function"&&(Mo(e,n,v,r),_=e.memoizedState),(c=yt||Za(e,n,c,r,f,_,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ho(t,e,n,r,i,s)}function Ho(t,e,n,r,s,i){Nd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Wa(e,n,!1),ht(t,e,i);r=e.stateNode,Tp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$n(e,t.child,null,i),e.child=$n(e,null,l,i)):me(t,e,l,i),e.memoizedState=r.state,s&&Wa(e,n,!0),e.child}function Ed(t){var e=t.stateNode;e.pendingContext?Ha(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ha(t,e.context,!1),Fl(t,e.containerInfo)}function lu(t,e,n,r,s){return Ln(),Al(s),e.flags|=256,me(t,e,n,r),e.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function bd(t,e,n){var r=e.pendingProps,s=H.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),M(H,s&1),t===null)return Uo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pi(o,r,0,null),t=Jt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qo(n),e.memoizedState=Wo,t):Kl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Op(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ot(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ot(l,i):(i=Jt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?qo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Wo,r}return i=t.child,t=i.sibling,r=Ot(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kl(t,e){return e=pi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function os(t,e,n,r){return r!==null&&Al(r),$n(e,t.child,null,n),t=Kl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Op(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Xi(Error(N(422))),os(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pi({mode:"visible",children:r.children},s,0,null),i=Jt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$n(e,t.child,null,o),e.child.memoizedState=qo(o),e.memoizedState=Wo,i);if(!(e.mode&1))return os(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(N(419)),r=Xi(i,r,void 0),os(t,e,o,r)}if(l=(o&t.childLanes)!==0,ke||l){if(r=re,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dt(t,s),Ke(r,t,s,-1))}return Zl(),r=Xi(Error(N(421))),os(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,be=bt(s.nextSibling),Ce=e,V=!0,We=null,t!==null&&(Re[Ae++]=ot,Re[Ae++]=lt,Re[Ae++]=Yt,ot=t.id,lt=t.overflow,Yt=e),e=Kl(e,r.children),e.flags|=4096,e)}function au(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fo(t.return,e,n)}function Yi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Cd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(me(t,e,r.children,n),r=H.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&au(t,n,e);else if(t.tag===19)au(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(M(H,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Hs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yi(e,!0,n,null,i);break;case"together":Yi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function js(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ht(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),en|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Ot(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ot(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Rp(t,e,n){switch(e.tag){case 3:Ed(e),Ln();break;case 5:ed(e);break;case 1:je(e.type)&&Us(e);break;case 4:Fl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;M(zs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(M(H,H.current&1),e.flags|=128,null):n&e.child.childLanes?bd(t,e,n):(M(H,H.current&1),t=ht(t,e,n),t!==null?t.sibling:null);M(H,H.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),M(H,H.current),r)break;return null;case 22:case 23:return e.lanes=0,jd(t,e,n)}return ht(t,e,n)}var Pd,Ko,Td,Od;Pd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ko=function(){};Td=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Gt(Ze.current);var i=null;switch(n){case"input":s=mo(t,s),r=mo(t,r),i=[];break;case"select":s=q({},s,{value:void 0}),r=q({},r,{value:void 0}),i=[];break;case"textarea":s=vo(t,s),r=vo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Is)}xo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&z("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Od=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xn(t,e){if(!V)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ap(t,e,n){var r=e.pendingProps;switch(Rl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(e),null;case 1:return je(e.type)&&Ds(),ue(e),null;case 3:return r=e.stateNode,In(),B(Se),B(fe),zl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ss(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,We!==null&&(tl(We),We=null))),Ko(t,e),ue(e),null;case 5:Ml(e);var s=Gt(Pr.current);if(n=e.type,t!==null&&e.stateNode!=null)Td(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return ue(e),null}if(t=Gt(Ze.current),ss(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xe]=e,r[br]=i,t=(e.mode&1)!==0,n){case"dialog":z("cancel",r),z("close",r);break;case"iframe":case"object":case"embed":z("load",r);break;case"video":case"audio":for(s=0;s<rr.length;s++)z(rr[s],r);break;case"source":z("error",r);break;case"img":case"image":case"link":z("error",r),z("load",r);break;case"details":z("toggle",r);break;case"input":ya(r,i),z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},z("invalid",r);break;case"textarea":wa(r,i),z("invalid",r)}xo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&rs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&rs(r.textContent,l,t),s=["children",""+l]):yr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&z("scroll",r)}switch(n){case"input":Qr(r),va(r,i,!0);break;case"textarea":Qr(r),xa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Is)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ic(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xe]=e,t[br]=r,Pd(t,e,!1,!1),e.stateNode=t;e:{switch(o=_o(n,r),n){case"dialog":z("cancel",t),z("close",t),s=r;break;case"iframe":case"object":case"embed":z("load",t),s=r;break;case"video":case"audio":for(s=0;s<rr.length;s++)z(rr[s],t);s=r;break;case"source":z("error",t),s=r;break;case"img":case"image":case"link":z("error",t),z("load",t),s=r;break;case"details":z("toggle",t),s=r;break;case"input":ya(t,r),s=mo(t,r),z("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=q({},r,{value:void 0}),z("invalid",t);break;case"textarea":wa(t,r),s=vo(t,r),z("invalid",t);break;default:s=r}xo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?ac(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&oc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&vr(t,a):typeof a=="number"&&vr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&z("scroll",t):a!=null&&yl(t,i,a,o))}switch(n){case"input":Qr(t),va(t,r,!1);break;case"textarea":Qr(t),xa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Nn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Nn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Is)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ue(e),null;case 6:if(t&&e.stateNode!=null)Od(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Gt(Pr.current),Gt(Ze.current),ss(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xe]=e,(i=r.nodeValue!==n)&&(t=Ce,t!==null))switch(t.tag){case 3:rs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xe]=e,e.stateNode=r}return ue(e),null;case 13:if(B(H),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(V&&be!==null&&e.mode&1&&!(e.flags&128))Qc(),Ln(),e.flags|=98560,i=!1;else if(i=ss(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Xe]=e}else Ln(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ue(e),i=!1}else We!==null&&(tl(We),We=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||H.current&1?Z===0&&(Z=3):Zl())),e.updateQueue!==null&&(e.flags|=4),ue(e),null);case 4:return In(),Ko(t,e),t===null&&Nr(e.stateNode.containerInfo),ue(e),null;case 10:return Il(e.type._context),ue(e),null;case 17:return je(e.type)&&Ds(),ue(e),null;case 19:if(B(H),i=e.memoizedState,i===null)return ue(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xn(i,!1);else{if(Z!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hs(t),o!==null){for(e.flags|=128,Xn(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return M(H,H.current&1|2),e.child}t=t.sibling}i.tail!==null&&J()>Un&&(e.flags|=128,r=!0,Xn(i,!1),e.lanes=4194304)}else{if(!r)if(t=Hs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!V)return ue(e),null}else 2*J()-i.renderingStartTime>Un&&n!==1073741824&&(e.flags|=128,r=!0,Xn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=J(),e.sibling=null,n=H.current,M(H,r?n&1|2:n&1),e):(ue(e),null);case 22:case 23:return Yl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ee&1073741824&&(ue(e),e.subtreeFlags&6&&(e.flags|=8192)):ue(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Lp(t,e){switch(Rl(e),e.tag){case 1:return je(e.type)&&Ds(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return In(),B(Se),B(fe),zl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ml(e),null;case 13:if(B(H),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Ln()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return B(H),null;case 4:return In(),null;case 10:return Il(e.type._context),null;case 22:case 23:return Yl(),null;case 24:return null;default:return null}}var ls=!1,de=!1,$p=typeof WeakSet=="function"?WeakSet:Set,b=null;function Sn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){K(t,e,r)}else n.current=null}function Go(t,e,n){try{n()}catch(r){K(t,e,r)}}var uu=!1;function Ip(t,e){if(Oo=As,t=Ic(),Tl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++c===s&&(l=o),f===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ro={focusedElem:t,selectionRange:n},As=!1,b=e;b!==null;)if(e=b,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,b=t;else for(;b!==null;){e=b;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,w=_.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:Be(e.type,x),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(y){K(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,b=t;break}b=e.return}return _=uu,uu=!1,_}function dr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Go(e,n,i)}s=s.next}while(s!==r)}}function hi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Rd(t){var e=t.alternate;e!==null&&(t.alternate=null,Rd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xe],delete e[br],delete e[$o],delete e[vp],delete e[wp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ad(t){return t.tag===5||t.tag===3||t.tag===4}function cu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ad(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Is));else if(r!==4&&(t=t.child,t!==null))for(Jo(t,e,n),t=t.sibling;t!==null;)Jo(t,e,n),t=t.sibling}function Xo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xo(t,e,n),t=t.sibling;t!==null;)Xo(t,e,n),t=t.sibling}var se=null,Ve=!1;function pt(t,e,n){for(n=n.child;n!==null;)Ld(t,e,n),n=n.sibling}function Ld(t,e,n){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(si,n)}catch{}switch(n.tag){case 5:de||Sn(n,e);case 6:var r=se,s=Ve;se=null,pt(t,e,n),se=r,Ve=s,se!==null&&(Ve?(t=se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&(Ve?(t=se,n=n.stateNode,t.nodeType===8?Wi(t.parentNode,n):t.nodeType===1&&Wi(t,n),kr(t)):Wi(se,n.stateNode));break;case 4:r=se,s=Ve,se=n.stateNode.containerInfo,Ve=!0,pt(t,e,n),se=r,Ve=s;break;case 0:case 11:case 14:case 15:if(!de&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Go(n,e,o),s=s.next}while(s!==r)}pt(t,e,n);break;case 1:if(!de&&(Sn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){K(n,e,l)}pt(t,e,n);break;case 21:pt(t,e,n);break;case 22:n.mode&1?(de=(r=de)||n.memoizedState!==null,pt(t,e,n),de=r):pt(t,e,n);break;default:pt(t,e,n)}}function du(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $p),e.forEach(function(r){var s=Wp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Me(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:se=l.stateNode,Ve=!1;break e;case 3:se=l.stateNode.containerInfo,Ve=!0;break e;case 4:se=l.stateNode.containerInfo,Ve=!0;break e}l=l.return}if(se===null)throw Error(N(160));Ld(i,o,s),se=null,Ve=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){K(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$d(e,t),e=e.sibling}function $d(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Me(e,t),Qe(t),r&4){try{dr(3,t,t.return),hi(3,t)}catch(x){K(t,t.return,x)}try{dr(5,t,t.return)}catch(x){K(t,t.return,x)}}break;case 1:Me(e,t),Qe(t),r&512&&n!==null&&Sn(n,n.return);break;case 5:if(Me(e,t),Qe(t),r&512&&n!==null&&Sn(n,n.return),t.flags&32){var s=t.stateNode;try{vr(s,"")}catch(x){K(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rc(s,i),_o(l,o);var c=_o(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?ac(s,h):d==="dangerouslySetInnerHTML"?oc(s,h):d==="children"?vr(s,h):yl(s,d,h,c)}switch(l){case"input":go(s,i);break;case"textarea":sc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Nn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Nn(s,!!i.multiple,i.defaultValue,!0):Nn(s,!!i.multiple,i.multiple?[]:"",!1))}s[br]=i}catch(x){K(t,t.return,x)}}break;case 6:if(Me(e,t),Qe(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){K(t,t.return,x)}}break;case 3:if(Me(e,t),Qe(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(e.containerInfo)}catch(x){K(t,t.return,x)}break;case 4:Me(e,t),Qe(t);break;case 13:Me(e,t),Qe(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jl=J())),r&4&&du(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(de=(c=de)||d,Me(e,t),de=c):Me(e,t),Qe(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(b=t,d=t.child;d!==null;){for(h=b=d;b!==null;){switch(f=b,v=f.child,f.tag){case 0:case 11:case 14:case 15:dr(4,f,f.return);break;case 1:Sn(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){K(r,n,x)}}break;case 5:Sn(f,f.return);break;case 22:if(f.memoizedState!==null){fu(h);continue}}v!==null?(v.return=f,b=v):fu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=lc("display",o))}catch(x){K(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){K(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Me(e,t),Qe(t),r&4&&du(t);break;case 21:break;default:Me(e,t),Qe(t)}}function Qe(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ad(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vr(s,""),r.flags&=-33);var i=cu(t);Xo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=cu(t);Jo(t,l,o);break;default:throw Error(N(161))}}catch(a){K(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dp(t,e,n){b=t,Id(t)}function Id(t,e,n){for(var r=(t.mode&1)!==0;b!==null;){var s=b,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ls;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||de;l=ls;var c=de;if(ls=o,(de=a)&&!c)for(b=s;b!==null;)o=b,a=o.child,o.tag===22&&o.memoizedState!==null?pu(s):a!==null?(a.return=o,b=a):pu(s);for(;i!==null;)b=i,Id(i),i=i.sibling;b=s,ls=l,de=c}hu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,b=i):hu(t)}}function hu(t){for(;b!==null;){var e=b;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:de||hi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!de)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Be(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ja(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ja(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&kr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}de||e.flags&512&&Qo(e)}catch(f){K(e,e.return,f)}}if(e===t){b=null;break}if(n=e.sibling,n!==null){n.return=e.return,b=n;break}b=e.return}}function fu(t){for(;b!==null;){var e=b;if(e===t){b=null;break}var n=e.sibling;if(n!==null){n.return=e.return,b=n;break}b=e.return}}function pu(t){for(;b!==null;){var e=b;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hi(4,e)}catch(a){K(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){K(e,s,a)}}var i=e.return;try{Qo(e)}catch(a){K(e,i,a)}break;case 5:var o=e.return;try{Qo(e)}catch(a){K(e,o,a)}}}catch(a){K(e,e.return,a)}if(e===t){b=null;break}var l=e.sibling;if(l!==null){l.return=e.return,b=l;break}b=e.return}}var Up=Math.ceil,Ks=ft.ReactCurrentDispatcher,Gl=ft.ReactCurrentOwner,$e=ft.ReactCurrentBatchConfig,I=0,re=null,X=null,ie=0,Ee=0,jn=$t(0),Z=0,Ar=null,en=0,fi=0,Ql=0,hr=null,xe=null,Jl=0,Un=1/0,rt=null,Gs=!1,Yo=null,Pt=null,as=!1,St=null,Qs=0,fr=0,Zo=null,Ns=-1,Es=0;function ge(){return I&6?J():Ns!==-1?Ns:Ns=J()}function Tt(t){return t.mode&1?I&2&&ie!==0?ie&-ie:_p.transition!==null?(Es===0&&(Es=xc()),Es):(t=D,t!==0||(t=window.event,t=t===void 0?16:bc(t.type)),t):1}function Ke(t,e,n,r){if(50<fr)throw fr=0,Zo=null,Error(N(185));Dr(t,n,r),(!(I&2)||t!==re)&&(t===re&&(!(I&2)&&(fi|=n),Z===4&&xt(t,ie)),Ne(t,r),n===1&&I===0&&!(e.mode&1)&&(Un=J()+500,ui&&It()))}function Ne(t,e){var n=t.callbackNode;_f(t,e);var r=Rs(t,t===re?ie:0);if(r===0)n!==null&&Sa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sa(n),e===1)t.tag===0?xp(mu.bind(null,t)):qc(mu.bind(null,t)),gp(function(){!(I&6)&&It()}),n=null;else{switch(_c(r)){case 1:n=kl;break;case 4:n=vc;break;case 16:n=Os;break;case 536870912:n=wc;break;default:n=Os}n=Hd(n,Dd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dd(t,e){if(Ns=-1,Es=0,I&6)throw Error(N(327));var n=t.callbackNode;if(Tn()&&t.callbackNode!==n)return null;var r=Rs(t,t===re?ie:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Js(t,r);else{e=r;var s=I;I|=2;var i=Fd();(re!==t||ie!==e)&&(rt=null,Un=J()+500,Qt(t,e));do try{zp();break}catch(l){Ud(t,l)}while(!0);$l(),Ks.current=i,I=s,X!==null?e=0:(re=null,ie=0,e=Z)}if(e!==0){if(e===2&&(s=Eo(t),s!==0&&(r=s,e=el(t,s))),e===1)throw n=Ar,Qt(t,0),xt(t,r),Ne(t,J()),n;if(e===6)xt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Fp(s)&&(e=Js(t,r),e===2&&(i=Eo(t),i!==0&&(r=i,e=el(t,i))),e===1))throw n=Ar,Qt(t,0),xt(t,r),Ne(t,J()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Vt(t,xe,rt);break;case 3:if(xt(t,r),(r&130023424)===r&&(e=Jl+500-J(),10<e)){if(Rs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ge(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lo(Vt.bind(null,t,xe,rt),e);break}Vt(t,xe,rt);break;case 4:if(xt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=J()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Up(r/1960))-r,10<r){t.timeoutHandle=Lo(Vt.bind(null,t,xe,rt),r);break}Vt(t,xe,rt);break;case 5:Vt(t,xe,rt);break;default:throw Error(N(329))}}}return Ne(t,J()),t.callbackNode===n?Dd.bind(null,t):null}function el(t,e){var n=hr;return t.current.memoizedState.isDehydrated&&(Qt(t,e).flags|=256),t=Js(t,e),t!==2&&(e=xe,xe=n,e!==null&&tl(e)),t}function tl(t){xe===null?xe=t:xe.push.apply(xe,t)}function Fp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ge(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xt(t,e){for(e&=~Ql,e&=~fi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qe(e),r=1<<n;t[n]=-1,e&=~r}}function mu(t){if(I&6)throw Error(N(327));Tn();var e=Rs(t,0);if(!(e&1))return Ne(t,J()),null;var n=Js(t,e);if(t.tag!==0&&n===2){var r=Eo(t);r!==0&&(e=r,n=el(t,r))}if(n===1)throw n=Ar,Qt(t,0),xt(t,e),Ne(t,J()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vt(t,xe,rt),Ne(t,J()),null}function Xl(t,e){var n=I;I|=1;try{return t(e)}finally{I=n,I===0&&(Un=J()+500,ui&&It())}}function tn(t){St!==null&&St.tag===0&&!(I&6)&&Tn();var e=I;I|=1;var n=$e.transition,r=D;try{if($e.transition=null,D=1,t)return t()}finally{D=r,$e.transition=n,I=e,!(I&6)&&It()}}function Yl(){Ee=jn.current,B(jn)}function Qt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mp(n)),X!==null)for(n=X.return;n!==null;){var r=n;switch(Rl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ds();break;case 3:In(),B(Se),B(fe),zl();break;case 5:Ml(r);break;case 4:In();break;case 13:B(H);break;case 19:B(H);break;case 10:Il(r.type._context);break;case 22:case 23:Yl()}n=n.return}if(re=t,X=t=Ot(t.current,null),ie=Ee=e,Z=0,Ar=null,Ql=fi=en=0,xe=hr=null,Kt!==null){for(e=0;e<Kt.length;e++)if(n=Kt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Kt=null}return t}function Ud(t,e){do{var n=X;try{if($l(),ks.current=qs,Ws){for(var r=W.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ws=!1}if(Zt=0,ne=Y=W=null,cr=!1,Tr=0,Gl.current=null,n===null||n.return===null){Z=1,Ar=e,X=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=nu(o);if(v!==null){v.flags&=-257,ru(v,o,l,i,e),v.mode&1&&tu(i,c,e),e=v,a=c;var _=e.updateQueue;if(_===null){var x=new Set;x.add(a),e.updateQueue=x}else _.add(a);break e}else{if(!(e&1)){tu(i,c,e),Zl();break e}a=Error(N(426))}}else if(V&&l.mode&1){var w=nu(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ru(w,o,l,i,e),Al(Dn(a,l));break e}}i=a=Dn(a,l),Z!==4&&(Z=2),hr===null?hr=[i]:hr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=_d(i,a,e);Qa(i,p);break e;case 1:l=a;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Pt===null||!Pt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=kd(i,l,e);Qa(i,y);break e}}i=i.return}while(i!==null)}zd(n)}catch(k){e=k,X===n&&n!==null&&(X=n=n.return);continue}break}while(!0)}function Fd(){var t=Ks.current;return Ks.current=qs,t===null?qs:t}function Zl(){(Z===0||Z===3||Z===2)&&(Z=4),re===null||!(en&268435455)&&!(fi&268435455)||xt(re,ie)}function Js(t,e){var n=I;I|=2;var r=Fd();(re!==t||ie!==e)&&(rt=null,Qt(t,e));do try{Mp();break}catch(s){Ud(t,s)}while(!0);if($l(),I=n,Ks.current=r,X!==null)throw Error(N(261));return re=null,ie=0,Z}function Mp(){for(;X!==null;)Md(X)}function zp(){for(;X!==null&&!hf();)Md(X)}function Md(t){var e=Vd(t.alternate,t,Ee);t.memoizedProps=t.pendingProps,e===null?zd(t):X=e,Gl.current=null}function zd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Lp(n,e),n!==null){n.flags&=32767,X=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Z=6,X=null;return}}else if(n=Ap(n,e,Ee),n!==null){X=n;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);Z===0&&(Z=5)}function Vt(t,e,n){var r=D,s=$e.transition;try{$e.transition=null,D=1,Bp(t,e,n,r)}finally{$e.transition=s,D=r}return null}function Bp(t,e,n,r){do Tn();while(St!==null);if(I&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kf(t,i),t===re&&(X=re=null,ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||as||(as=!0,Hd(Os,function(){return Tn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$e.transition,$e.transition=null;var o=D;D=1;var l=I;I|=4,Gl.current=null,Ip(t,n),$d(n,t),ap(Ro),As=!!Oo,Ro=Oo=null,t.current=n,Dp(n),ff(),I=l,D=o,$e.transition=i}else t.current=n;if(as&&(as=!1,St=t,Qs=s),i=t.pendingLanes,i===0&&(Pt=null),gf(n.stateNode),Ne(t,J()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gs)throw Gs=!1,t=Yo,Yo=null,t;return Qs&1&&t.tag!==0&&Tn(),i=t.pendingLanes,i&1?t===Zo?fr++:(fr=0,Zo=t):fr=0,It(),null}function Tn(){if(St!==null){var t=_c(Qs),e=$e.transition,n=D;try{if($e.transition=null,D=16>t?16:t,St===null)var r=!1;else{if(t=St,St=null,Qs=0,I&6)throw Error(N(331));var s=I;for(I|=4,b=t.current;b!==null;){var i=b,o=i.child;if(b.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(b=c;b!==null;){var d=b;switch(d.tag){case 0:case 11:case 15:dr(8,d,i)}var h=d.child;if(h!==null)h.return=d,b=h;else for(;b!==null;){d=b;var f=d.sibling,v=d.return;if(Rd(d),d===c){b=null;break}if(f!==null){f.return=v,b=f;break}b=v}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}b=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,b=o;else e:for(;b!==null;){if(i=b,i.flags&2048)switch(i.tag){case 0:case 11:case 15:dr(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,b=p;break e}b=i.return}}var m=t.current;for(b=m;b!==null;){o=b;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,b=g;else e:for(o=m;b!==null;){if(l=b,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hi(9,l)}}catch(k){K(l,l.return,k)}if(l===o){b=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,b=y;break e}b=l.return}}if(I=s,It(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(si,t)}catch{}r=!0}return r}finally{D=n,$e.transition=e}}return!1}function gu(t,e,n){e=Dn(n,e),e=_d(t,e,1),t=Ct(t,e,1),e=ge(),t!==null&&(Dr(t,1,e),Ne(t,e))}function K(t,e,n){if(t.tag===3)gu(t,t,n);else for(;e!==null;){if(e.tag===3){gu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pt===null||!Pt.has(r))){t=Dn(n,t),t=kd(e,t,1),e=Ct(e,t,1),t=ge(),e!==null&&(Dr(e,1,t),Ne(e,t));break}}e=e.return}}function Vp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ge(),t.pingedLanes|=t.suspendedLanes&n,re===t&&(ie&n)===n&&(Z===4||Z===3&&(ie&130023424)===ie&&500>J()-Jl?Qt(t,0):Ql|=n),Ne(t,e)}function Bd(t,e){e===0&&(t.mode&1?(e=Yr,Yr<<=1,!(Yr&130023424)&&(Yr=4194304)):e=1);var n=ge();t=dt(t,e),t!==null&&(Dr(t,e,n),Ne(t,n))}function Hp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bd(t,n)}function Wp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Bd(t,n)}var Vd;Vd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Se.current)ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ke=!1,Rp(t,e,n);ke=!!(t.flags&131072)}else ke=!1,V&&e.flags&1048576&&Kc(e,Ms,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;js(t,e),t=e.pendingProps;var s=An(e,fe.current);Pn(e,n),s=Vl(null,e,r,t,s,n);var i=Hl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(r)?(i=!0,Us(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ul(e),s.updater=di,e.stateNode=s,s._reactInternals=e,zo(e,r,t,n),e=Ho(null,e,r,!0,i,n)):(e.tag=0,V&&i&&Ol(e),me(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(js(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Kp(r),t=Be(r,t),s){case 0:e=Vo(null,e,r,t,n);break e;case 1:e=ou(null,e,r,t,n);break e;case 11:e=su(null,e,r,t,n);break e;case 14:e=iu(null,e,r,Be(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Vo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),ou(t,e,r,s,n);case 3:e:{if(Ed(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Zc(t,e),Vs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dn(Error(N(423)),e),e=lu(t,e,r,n,s);break e}else if(r!==s){s=Dn(Error(N(424)),e),e=lu(t,e,r,n,s);break e}else for(be=bt(e.stateNode.containerInfo.firstChild),Ce=e,V=!0,We=null,n=Xc(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ln(),r===s){e=ht(t,e,n);break e}me(t,e,r,n)}e=e.child}return e;case 5:return ed(e),t===null&&Uo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ao(r,s)?o=null:i!==null&&Ao(r,i)&&(e.flags|=32),Nd(t,e),me(t,e,o,n),e.child;case 6:return t===null&&Uo(e),null;case 13:return bd(t,e,n);case 4:return Fl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$n(e,null,r,n):me(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),su(t,e,r,s,n);case 7:return me(t,e,e.pendingProps,n),e.child;case 8:return me(t,e,e.pendingProps.children,n),e.child;case 12:return me(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,M(zs,r._currentValue),r._currentValue=o,i!==null)if(Ge(i.value,o)){if(i.children===s.children&&!Se.current){e=ht(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=at(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Fo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Fo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}me(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Pn(e,n),s=Ue(s),r=r(s),e.flags|=1,me(t,e,r,n),e.child;case 14:return r=e.type,s=Be(r,e.pendingProps),s=Be(r.type,s),iu(t,e,r,s,n);case 15:return Sd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),js(t,e),e.tag=1,je(r)?(t=!0,Us(e)):t=!1,Pn(e,n),xd(e,r,s),zo(e,r,s,n),Ho(null,e,r,!0,t,n);case 19:return Cd(t,e,n);case 22:return jd(t,e,n)}throw Error(N(156,e.tag))};function Hd(t,e){return yc(t,e)}function qp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Le(t,e,n,r){return new qp(t,e,n,r)}function ea(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kp(t){if(typeof t=="function")return ea(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wl)return 11;if(t===xl)return 14}return 2}function Ot(t,e){var n=t.alternate;return n===null?(n=Le(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ea(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pn:return Jt(n.children,s,i,e);case vl:o=8,s|=8;break;case co:return t=Le(12,n,e,s|2),t.elementType=co,t.lanes=i,t;case ho:return t=Le(13,n,e,s),t.elementType=ho,t.lanes=i,t;case fo:return t=Le(19,n,e,s),t.elementType=fo,t.lanes=i,t;case ec:return pi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yu:o=10;break e;case Zu:o=9;break e;case wl:o=11;break e;case xl:o=14;break e;case gt:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Le(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Jt(t,e,n,r){return t=Le(7,t,r,e),t.lanes=n,t}function pi(t,e,n,r){return t=Le(22,t,r,e),t.elementType=ec,t.lanes=n,t.stateNode={isHidden:!1},t}function Zi(t,e,n){return t=Le(6,t,null,e),t.lanes=n,t}function eo(t,e,n){return e=Le(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Li(0),this.expirationTimes=Li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ta(t,e,n,r,s,i,o,l,a){return t=new Gp(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Le(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(i),t}function Qp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wd(t){if(!t)return At;t=t._reactInternals;e:{if(rn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(je(n))return Wc(t,n,e)}return e}function qd(t,e,n,r,s,i,o,l,a){return t=ta(n,r,!0,t,s,i,o,l,a),t.context=Wd(null),n=t.current,r=ge(),s=Tt(n),i=at(r,s),i.callback=e??null,Ct(n,i,s),t.current.lanes=s,Dr(t,s,r),Ne(t,r),t}function mi(t,e,n,r){var s=e.current,i=ge(),o=Tt(s);return n=Wd(n),e.context===null?e.context=n:e.pendingContext=n,e=at(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ct(s,e,o),t!==null&&(Ke(t,s,o,i),_s(t,s,o)),o}function Xs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function na(t,e){yu(t,e),(t=t.alternate)&&yu(t,e)}function Jp(){return null}var Kd=typeof reportError=="function"?reportError:function(t){console.error(t)};function ra(t){this._internalRoot=t}gi.prototype.render=ra.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));mi(t,e,null,null)};gi.prototype.unmount=ra.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tn(function(){mi(null,t,null,null)}),e[ct]=null}};function gi(t){this._internalRoot=t}gi.prototype.unstable_scheduleHydration=function(t){if(t){var e=jc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wt.length&&e!==0&&e<wt[n].priority;n++);wt.splice(n,0,t),n===0&&Ec(t)}};function sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vu(){}function Xp(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xs(o);i.call(c)}}var o=qd(e,r,t,0,null,!1,!1,"",vu);return t._reactRootContainer=o,t[ct]=o.current,Nr(t.nodeType===8?t.parentNode:t),tn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Xs(a);l.call(c)}}var a=ta(t,0,!1,null,null,!1,!1,"",vu);return t._reactRootContainer=a,t[ct]=a.current,Nr(t.nodeType===8?t.parentNode:t),tn(function(){mi(e,a,n,r)}),a}function vi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Xs(o);l.call(a)}}mi(e,o,t,s)}else o=Xp(n,e,t,s,r);return Xs(o)}kc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nr(e.pendingLanes);n!==0&&(Sl(e,n|1),Ne(e,J()),!(I&6)&&(Un=J()+500,It()))}break;case 13:tn(function(){var r=dt(t,1);if(r!==null){var s=ge();Ke(r,t,1,s)}}),na(t,1)}};jl=function(t){if(t.tag===13){var e=dt(t,134217728);if(e!==null){var n=ge();Ke(e,t,134217728,n)}na(t,134217728)}};Sc=function(t){if(t.tag===13){var e=Tt(t),n=dt(t,e);if(n!==null){var r=ge();Ke(n,t,e,r)}na(t,e)}};jc=function(){return D};Nc=function(t,e){var n=D;try{return D=t,e()}finally{D=n}};So=function(t,e,n){switch(e){case"input":if(go(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ai(r);if(!s)throw Error(N(90));nc(r),go(r,s)}}}break;case"textarea":sc(t,n);break;case"select":e=n.value,e!=null&&Nn(t,!!n.multiple,e,!1)}};dc=Xl;hc=tn;var Yp={usingClientEntryPoint:!1,Events:[Fr,vn,ai,uc,cc,Xl]},Yn={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zp={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mc(t),t===null?null:t.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||Jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!us.isDisabled&&us.supportsFiber)try{si=us.inject(Zp),Ye=us}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yp;Te.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sa(e))throw Error(N(200));return Qp(t,e,null,n)};Te.createRoot=function(t,e){if(!sa(t))throw Error(N(299));var n=!1,r="",s=Kd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ta(t,1,!1,null,null,n,!1,r,s),t[ct]=e.current,Nr(t.nodeType===8?t.parentNode:t),new ra(e)};Te.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=mc(e),t=t===null?null:t.stateNode,t};Te.flushSync=function(t){return tn(t)};Te.hydrate=function(t,e,n){if(!yi(e))throw Error(N(200));return vi(null,t,e,!0,n)};Te.hydrateRoot=function(t,e,n){if(!sa(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Kd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qd(e,null,t,1,n??null,s,!1,i,o),t[ct]=e.current,Nr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gi(e)};Te.render=function(t,e,n){if(!yi(e))throw Error(N(200));return vi(null,t,e,!1,n)};Te.unmountComponentAtNode=function(t){if(!yi(t))throw Error(N(40));return t._reactRootContainer?(tn(function(){vi(null,null,t,!1,function(){t._reactRootContainer=null,t[ct]=null})}),!0):!1};Te.unstable_batchedUpdates=Xl;Te.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yi(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return vi(t,e,n,!1,r)};Te.version="18.3.1-next-f1338f8080-20240426";function Gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gd)}catch(t){console.error(t)}}Gd(),Gu.exports=Te;var em=Gu.exports,Qd,wu=em;Qd=wu.createRoot,wu.hydrateRoot;const tm="modulepreload",nm=function(t){return"/"+t},xu={},zr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=nm(a),a in xu)return;xu[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":tm,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},rm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Vn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ia extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class sm extends ia{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class im extends ia{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class om extends ia{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nl||(nl={}));var lm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class am{constructor(e,{headers:n={},customFetch:r,region:s=nl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=rm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return lm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(_=>{throw new sm(_)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new im(d);if(!d.ok)throw new om(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var _e={},oa={},wi={},Br={},xi={},_i={},um=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fn=um();const cm=Fn.fetch,Jd=Fn.fetch.bind(Fn),Xd=Fn.Headers,dm=Fn.Request,hm=Fn.Response,Vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xd,Request:dm,Response:hm,default:Jd,fetch:cm},Symbol.toStringTag,{value:"Module"})),fm=bh(Vn);var ki={};Object.defineProperty(ki,"__esModule",{value:!0});let pm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ki.default=pm;var Yd=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const mm=Yd(fm),gm=Yd(ki);let ym=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=mm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&x===""?(f=204,v="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new gm.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};_i.default=ym;var vm=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});const wm=vm(_i);let xm=class extends wm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xi.default=xm;var _m=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});const km=_m(xi);let Sm=class extends km.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Br.default=Sm;var jm=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const Zn=jm(Br);let Nm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Zn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Zn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Zn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wi.default=Nm;var Si={},ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.version=void 0;ji.version="0.0.0-automated";Object.defineProperty(Si,"__esModule",{value:!0});Si.DEFAULT_HEADERS=void 0;const Em=ji;Si.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Em.version}`};var Zd=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oa,"__esModule",{value:!0});const bm=Zd(wi),Cm=Zd(Br),Pm=Si;let Tm=class eh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Pm.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new bm.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new eh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Cm.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};oa.default=Tm;var Hn=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const th=Hn(oa);_e.PostgrestClient=th.default;const nh=Hn(wi);_e.PostgrestQueryBuilder=nh.default;const rh=Hn(Br);_e.PostgrestFilterBuilder=rh.default;const sh=Hn(xi);_e.PostgrestTransformBuilder=sh.default;const ih=Hn(_i);_e.PostgrestBuilder=ih.default;const oh=Hn(ki);_e.PostgrestError=oh.default;var Om=_e.default={PostgrestClient:th.default,PostgrestQueryBuilder:nh.default,PostgrestFilterBuilder:rh.default,PostgrestTransformBuilder:sh.default,PostgrestBuilder:ih.default,PostgrestError:oh.default};const{PostgrestClient:Rm,PostgrestQueryBuilder:Q0,PostgrestFilterBuilder:J0,PostgrestTransformBuilder:X0,PostgrestBuilder:Y0,PostgrestError:Z0}=Om;let rl;typeof window>"u"?rl=require("ws"):rl=window.WebSocket;const Am=rl,Lm="2.11.10",$m={"X-Client-Info":`realtime-js/${Lm}`},Im="1.0.0",lh=1e4,Dm=1e3;var On;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(On||(On={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var He;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(He||(He={}));var sl;(function(t){t.websocket="websocket"})(sl||(sl={}));var Wt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wt||(Wt={}));class Um{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class ah{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const _u=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Fm(o,t,e,s),i),{})},Fm=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?uh(i,o):il(o)},uh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Vm(e,n)}switch(t){case F.bool:return Mm(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return zm(e);case F.json:case F.jsonb:return Bm(e);case F.timestamp:return Hm(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return il(e);default:return il(e)}},il=t=>t,Mm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Vm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>uh(e,l))}return t},Hm=t=>typeof t=="string"?t.replace(" ","T"):t,ch=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class to{constructor(e,n,r={},s=lh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ku;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ku||(ku={}));class pr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=pr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=pr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(w=>w.presence_ref),v=h.map(w=>w.presence_ref),_=d.filter(w=>v.indexOf(w.presence_ref)<0),x=h.filter(w=>f.indexOf(w.presence_ref)<0);_.length>0&&(l[c]=_),x.length>0&&(a[c]=x)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}r(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Su;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Su||(Su={}));var ju;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ju||(ju={}));var st;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(st||(st={}));class la{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new to(this,He.join,this.params,this.timeout),this.rejoinTimer=new ah(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new pr(this),this.broadcastEndpointURL=ch(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(st.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(st.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(st.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,_=[];for(let x=0;x<v;x++){const w=f[x],{filter:{event:p,schema:m,table:g,filter:y}}=w,k=d&&d[x];if(k&&k.event===p&&k.schema===m&&k.table===g&&k.filter===y)_.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(st.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(st.SUBSCRIBED);return}}).receive("error",d=>{this.state=pe.errored,e==null||e(st.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(st.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new to(this,He.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new to(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=He;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var _,x,w;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((w=(x=v.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var _,x,w,p,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,k=(_=v.filter)===null||_===void 0?void 0:_.event;return y&&((x=n.ids)===null||x===void 0?void 0:x.includes(y))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const y=(m=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return y==="*"||y===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:x,table:w,commit_timestamp:p,type:m,errors:g}=_;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(_))}v.callback(f,r)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&la.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(He.close,{},e)}_onError(e){this._on(He.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_u(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_u(e.columns,e.old_record)),n}}const Nu=()=>{},Wm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qm{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=$m,this.params={},this.timeout=lh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nu,this.ref=0,this.logger=Nu,this.conn=null,this.sendBuffer=[],this.serializer=new Um,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>zr(async()=>{const{default:a}=await Promise.resolve().then(()=>Vn);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${sl.websocket}`,this.httpEndpoint=ch(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ah(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Am),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Km(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Im}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return Wt.Connecting;case On.open:return Wt.Open;case On.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new la(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(He.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Dm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(He.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Wm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Km{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=On.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class aa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Gm extends aa{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ol extends aa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Qm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const dh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Vn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Jm=()=>Qm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zr(()=>Promise.resolve().then(()=>Vn),void 0)).Response:Response}),ll=t=>{if(Array.isArray(t))return t.map(n=>ll(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ll(r)}),e};var sn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const no=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Xm=(t,e,n)=>sn(void 0,void 0,void 0,function*(){const r=yield Jm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Gm(no(s),t.status||500))}).catch(s=>{e(new ol(no(s),s))}):e(new ol(no(t),t))}),Ym=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Vr(t,e,n,r,s,i){return sn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Ym(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Xm(a,l,r))})})}function Ys(t,e,n,r){return sn(this,void 0,void 0,function*(){return Vr(t,"GET",e,n,r)})}function vt(t,e,n,r,s){return sn(this,void 0,void 0,function*(){return Vr(t,"POST",e,r,s,n)})}function Zm(t,e,n,r,s){return sn(this,void 0,void 0,function*(){return Vr(t,"PUT",e,r,s,n)})}function eg(t,e,n,r){return sn(this,void 0,void 0,function*(){return Vr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hh(t,e,n,r,s){return sn(this,void 0,void 0,function*(){return Vr(t,"DELETE",e,r,s,n)})}var we=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const tg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ng{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=dh(s)}uploadOrUpdate(e,n,r,s){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Eu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(te(i))return{data:null,error:i};throw i}})}upload(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:Eu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(te(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield vt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new aa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}update(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}copy(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield vt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return we(this,void 0,void 0,function*(){try{const s=yield vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}download(e,n){return we(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ys(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(te(l))return{data:null,error:l};throw l}})}info(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ys(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ll(r),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}exists(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield eg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(te(r)&&r instanceof ol){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}list(e,n,r){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tg),n),{prefix:e||""});return{data:yield vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const rg="2.7.1",sg={"X-Client-Info":`storage-js/${rg}`};var an=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class ig{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},sg),n),this.fetch=dh(r)}listBuckets(){return an(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return an(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return an(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return an(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}})}emptyBucket(e){return an(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}deleteBucket(e){return an(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}})}}class og extends ig{constructor(e,n={},r){super(e,n,r)}from(e){return new ng(this.url,this.headers,e,this.fetch)}}const lg="2.50.0";let sr="";typeof Deno<"u"?sr="deno":typeof document<"u"?sr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sr="react-native":sr="node";const ag={"X-Client-Info":`supabase-js-${sr}/${lg}`},ug={headers:ag},cg={schema:"public"},dg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hg={};var fg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const pg=t=>{let e;return t?e=t:typeof fetch>"u"?e=Jd:e=fetch,(...n)=>e(...n)},mg=()=>typeof Headers>"u"?Xd:Headers,gg=(t,e,n)=>{const r=pg(n),s=mg();return(i,o)=>fg(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var yg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function vg(t){return t.endsWith("/")?t:t+"/"}function wg(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>yg(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const fh="2.70.0",hn=30*1e3,al=3,ro=al*hn,xg="http://localhost:9999",_g="supabase.auth.token",kg={"X-Client-Info":`gotrue-js/${fh}`},ul="X-Supabase-Api-Version",ph={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jg=6e5;class ua extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function T(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ng extends ua{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Eg(t){return T(t)&&t.name==="AuthApiError"}class mh extends ua{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Dt extends ua{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class mt extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bg(t){return T(t)&&t.name==="AuthSessionMissingError"}class cs extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ds extends Dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hs extends Dt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cg(t){return T(t)&&t.name==="AuthImplicitGrantRedirectError"}class bu extends Dt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cl extends Dt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function so(t){return T(t)&&t.name==="AuthRetryableFetchError"}class Cu extends Dt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class mr extends Dt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pu=` 	
\r=`.split(""),Pg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pu.length;e+=1)t[Pu[e].charCodeAt(0)]=-2;for(let e=0;e<Zs.length;e+=1)t[Zs[e].charCodeAt(0)]=e;return t})();function Tu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Zs[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Zs[r]),e.queuedBits-=6}}function gh(t,e,n){const r=Pg[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ou(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Rg(o,r,n)};for(let o=0;o<t.length;o+=1)gh(t.charCodeAt(o),s,i);return e.join("")}function Tg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Og(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Tg(r,e)}}function Rg(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ag(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)gh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Lg(t){const e=[];return Og(t,n=>e.push(n)),new Uint8Array(e)}function $g(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Tu(s,n,r)),Tu(null,n,r),e.join("")}function Ig(t){return Math.round(Date.now()/1e3)+t}function Dg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},gr=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function Ug(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const yh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Vn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Fg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vh=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},fs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ps=async(t,e)=>{await t.removeItem(e)};class Ni{constructor(){this.promise=new Ni.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ni.promiseConstructor=Promise;function io(t){const e=t.split(".");if(e.length!==3)throw new mr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Sg.test(e[r]))throw new mr("JWT not in base64url format");return{header:JSON.parse(Ou(e[0])),payload:JSON.parse(Ou(e[1])),signature:Ag(e[2]),raw:{header:e[0],payload:e[1]}}}async function Mg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zg(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Bg(t){return("0"+t.toString(16)).substr(-2)}function Vg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Bg).join("")}async function Hg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Wg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Hg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(t,e,n=!1){const r=Vg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await vh(t,`${e}-code-verifier`,s);const i=await Wg(r);return[i,r===i?"plain":"s256"]}const qg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kg(t){const e=t.headers.get(ul);if(!e||!e.match(qg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Gg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Qg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cn(t){if(!Jg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Xg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yg=[502,503,504];async function Ru(t){var e;if(!Fg(t))throw new cl(Ht(t),0);if(Yg.includes(t.status))throw new cl(Ht(t),t.status);let n;try{n=await t.json()}catch(i){throw new mh(Ht(i),i)}let r;const s=Kg(t);if(s&&s.getTime()>=ph["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Cu(Ht(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Cu(Ht(n),t.status,n.weak_password.reasons);throw new Ng(Ht(n),t.status||500,r)}const Zg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function L(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ul]||(i[ul]=ph["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await e0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function e0(t,e,n,r,s,i){const o=Zg(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new cl(Ht(a),0)}if(l.ok||await Ru(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Ru(a)}}function nt(t){var e;let n=null;s0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Ig(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Au(t){const e=nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _t(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function t0(t){return{data:t,error:null}}function n0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Xg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function r0(t){return t}function s0(t){return t.access_token&&t.refresh_token&&t.expires_in}const oo=["global","local","others"];var i0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class o0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=yh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=oo[0]){if(oo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oo.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_t})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=i0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:n0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(T(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_t})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:r0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(T(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){cn(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_t})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){cn(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:_t})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){cn(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:_t})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){cn(e.userId);try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(T(n))return{data:null,error:n};throw n}}async _deleteFactor(e){cn(e.userId),cn(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}}}const l0={getItem:t=>gr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{gr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{gr()&&globalThis.localStorage.removeItem(t)}};function Lu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function a0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dn={debug:!!(globalThis&&gr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class u0 extends wh{}async function c0(t,e,n){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new u0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}a0();const d0={url:xg,storageKey:_g,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $u(t,e,n){return await n()}class Lr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Lr.nextInstanceID,Lr.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},d0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new o0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=yh(s.fetch),this.lock=s.lock||$u,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=c0:this.lock=$u,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:gr()?this.storage=l0:(this.memoryStorage={},this.storage=Lu(this.memoryStorage)):(this.memoryStorage={},this.storage=Lu(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Ug(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ze()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Cg(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return T(n)?{error:n}:{error:new mh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:nt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await un(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:_},xform:nt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:nt})}else throw new ds("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Au})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Au})}else throw new ds("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new cs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,c,d,h,f,v;let _,x;if("message"in e)_=e.message,x=e.signature;else{const{chain:w,wallet:p,statement:m,options:g}=e;let y;if(ze())if(typeof p=="object")y=p;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))y=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=p}const k=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const j=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)_=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${k.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await y.signMessage(new TextEncoder().encode(_),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:w,error:p}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:$g(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:nt});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new cs}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(T(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await fs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:nt});if(await ps(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(T(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new cs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await un(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ds("You must provide either an email or phone number.")}catch(l){if(T(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(T(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await un(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:t0})}catch(i){if(T(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(T(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ds("You must provide either an email or phone number and a type")}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ro:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_t}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:_t})})}catch(n){if(T(n))return bg(n)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await un(this.storage,this.storageKey));const{data:c,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:_t});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=io(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(T(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ze())throw new hs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bu("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new hs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;a&&(f=parseInt(a));const v=f-d;v*1e3<=hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const _=f-h;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(T(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Eg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Dg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await un(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(T(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ze()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(T(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(T(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zg(async s=>(s>0&&await Mg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&so(i)&&Date.now()+o-r<hn})}catch(r){if(this._debug(n,"error",r),T(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await fs(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ro;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ro}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),so(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ni;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),T(i)){const o={session:null,error:i};return so(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hn}ms, refresh threshold is ${al} ticks`),s<=al&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await un(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(T(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(T(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(T(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(T(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=io(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+jg>Date.now()))return r;const{data:s,error:i}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new mr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new mr("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=io(r);if(Gg(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=Qg(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Lg(`${l}.${a}`)))throw new mr("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}}}Lr.nextInstanceID=0;const h0=Lr;class f0 extends h0{constructor(e){super(e)}}var p0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class m0{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=vg(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:cg,realtime:hg,auth:Object.assign(Object.assign({},dg),{storageKey:c}),global:ug},h=wg(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=gg(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Rm(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new am(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new og(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return p0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new qm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const g0=(t,e,n)=>new m0(t,e,n),y0=void 0,v0=void 0;throw new Error("Missing Supabase environment variables");const ce=g0(y0,v0,{auth:{persistSession:!0,autoRefreshToken:!0}});class w0{async login(e,n){var r;try{const{data:s,error:i}=await ce.auth.signInWithPassword({email:e,password:n});if(i)return console.error("Login error:",i.message),null;if(s.user){const o={id:s.user.id,username:((r=s.user.email)==null?void 0:r.split("@")[0])||"user",role:this.getUserRole(s.user.email||"")};return localStorage.setItem("currentUser",JSON.stringify(o)),o}return null}catch(s){return console.error("Login failed:",s),null}}async logout(){try{await ce.auth.signOut(),localStorage.removeItem("currentUser")}catch(e){console.error("Logout error:",e)}}getCurrentUser(){const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null}getUserRole(e){return e==="vr@gmail.com"?"admin":e==="uploader@vehiclefleet.com"?"upload":"viewer"}async checkAuthStatus(){var e;try{const{data:{user:n}}=await ce.auth.getUser();if(n){const r={id:n.id,username:((e=n.email)==null?void 0:e.split("@")[0])||"user",role:this.getUserRole(n.email||"")};return localStorage.setItem("currentUser",JSON.stringify(r)),r}return null}catch(n){return console.error("Auth check failed:",n),null}}}const lo=new w0,xh=P.createContext(void 0),Ut=()=>{const t=P.useContext(xh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},x0=({children:t})=>{const[e,n]=P.useState(null),[r,s]=P.useState(!0);P.useEffect(()=>{i()},[]);const i=async()=>{try{const a=await lo.checkAuthStatus();n(a)}catch(a){console.error("Auth check failed:",a)}finally{s(!1)}},o=async(a,c)=>{s(!0);try{const d=await lo.login(a,c);return d?(n(d),!0):!1}finally{s(!1)}},l=async()=>{await lo.logout(),n(null)};return u.jsx(xh.Provider,{value:{user:e,login:o,logout:l,loading:r},children:t})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_h=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},a)=>P.createElement("svg",{ref:a,...k0,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_h("lucide",s),...l},[...o.map(([c,d])=>P.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=(t,e)=>{const n=P.forwardRef(({className:r,...s},i)=>P.createElement(S0,{ref:i,iconNode:e,className:_h(`lucide-${_0(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=G("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=G("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=G("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=G("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=G("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=G("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=G("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=G("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=G("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=G("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=G("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=G("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),A0=()=>{const[t,e]=P.useState(""),[n,r]=P.useState(""),[s,i]=P.useState(""),{login:o,loading:l}=Ut(),a=async c=>{if(c.preventDefault(),i(""),!t.trim()||!n.trim()){i("Please enter both email and password");return}await o(t.trim(),n.trim())||i("Invalid credentials")};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50",children:u.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"mx-auto h-16 w-16 bg-green-600 rounded-full flex items-center justify-center mb-4",children:u.jsx(P0,{className:"h-8 w-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"GreenCell EV Pvt Ltd"}),u.jsx("h2",{className:"text-lg text-gray-600 mt-1",children:"Contract Manufacture Department"})]}),u.jsxs("form",{onSubmit:a,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(jh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{id:"email",type:"email",value:t,onChange:c=>e(c.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"Enter your email",disabled:l})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(C0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{id:"password",type:"password",value:n,onChange:c=>r(c.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"Enter your password",disabled:l})]})]}),s&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:s}),u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Signing in...":"Sign In"})]}),u.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[u.jsx("p",{className:"mb-2",children:"You need to create an account in Supabase first"}),u.jsx("div",{className:"space-y-1 text-xs",children:u.jsx("p",{children:'Use the "Connect to Supabase" button above to set up your database'})})]})]})})},L0=({children:t})=>{const{user:e,logout:n}=Ut();return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-white shadow-md border-b border-gray-200",children:u.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"h-12 w-12 bg-green-600 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-lg",children:"GC"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"GreenCell EV Pvt Ltd"}),u.jsx("h2",{className:"text-sm text-gray-600",children:"Contract Manufacture Department"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[u.jsx(jh,{className:"h-4 w-4"}),u.jsx("span",{className:"font-medium",children:e==null?void 0:e.username}),u.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium capitalize",children:e==null?void 0:e.role})]}),u.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:[u.jsx(T0,{className:"h-4 w-4"}),u.jsx("span",{children:"Logout"})]})]})]})}),u.jsx("main",{className:"container mx-auto px-4 py-6",children:t})]})},$0=({currentPage:t,onPageChange:e})=>{const n=[{id:"home",label:"Home",icon:b0},{id:"sop",label:"SOP for Maintenance",icon:$r},{id:"retro",label:"Retro Summary",icon:R0},{id:"complaints",label:"Complaints Summary",icon:Hr},{id:"odometer",label:"Odometer Summary",icon:ei}];return u.jsx("nav",{className:"bg-green-600 shadow-lg mb-6",children:u.jsx("div",{className:"px-4",children:u.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:n.map(({id:r,label:s,icon:i})=>u.jsxs("button",{onClick:()=>e(r),className:`flex items-center space-x-2 px-4 py-3 rounded-t-lg transition-all whitespace-nowrap ${t===r?"bg-white text-green-600 shadow-lg":"text-white hover:bg-green-500"}`,children:[u.jsx(i,{className:"h-4 w-4"}),u.jsx("span",{className:"font-medium",children:s})]},r))})})})};class I0{async getVehicles(){try{const{data:e,error:n}=await ce.from("vehicles").select("*").order("registration_number");return n?(console.error("Error fetching vehicles:",n),[]):e?e.map(s=>{var i,o;return{id:s.id,chassis:s.chassis_number||s.vehicle_number,reg:s.registration_number,depot:s.depot,motor:s.motor_number,dispatch:s.dispatch_date,regDate:s.registration_date,mfgDate:s.manufacturing_date,model:s.model,colour:s.colour,seating:(i=s.seating_capacity)==null?void 0:i.toString(),motorKw:(o=s.motor_power_kw)==null?void 0:o.toString()}}):[]}catch(e){return console.error("Error in getVehicles:",e),[]}}async addVehicle(e){var n,r;try{const{data:s,error:i}=await ce.from("vehicles").insert({chassis_number:e.chassis,registration_number:e.reg,depot:e.depot,motor_number:e.motor,dispatch_date:e.dispatch,registration_date:e.regDate,manufacturing_date:e.mfgDate,model:e.model,colour:e.colour,seating_capacity:parseInt(e.seating),motor_power_kw:parseInt(e.motorKw)}).select().single();return i?(console.error("Error adding vehicle:",i),null):{id:s.id,chassis:s.chassis_number,reg:s.registration_number,depot:s.depot,motor:s.motor_number,dispatch:s.dispatch_date,regDate:s.registration_date,mfgDate:s.manufacturing_date,model:s.model,colour:s.colour,seating:(n=s.seating_capacity)==null?void 0:n.toString(),motorKw:(r=s.motor_power_kw)==null?void 0:r.toString()}}catch(s){return console.error("Error in addVehicle:",s),null}}async getComplaints(){try{const{data:e,error:n}=await ce.from("complaints").select(`
          *,
          vehicles!inner(registration_number, depot)
        `).order("created_at",{ascending:!1});return n?(console.error("Error fetching complaints:",n),[]):(e==null?void 0:e.map(r=>{var s,i,o;return{id:r.id,chassis:r.chassis_number,text:r.description,date:((s=r.created_at)==null?void 0:s.split("T")[0])||new Date().toISOString().split("T")[0],status:r.status,vehicleReg:(i=r.vehicles)==null?void 0:i.registration_number,vehicleDepot:(o=r.vehicles)==null?void 0:o.depot}}))||[]}catch(e){return console.error("Error in getComplaints:",e),[]}}async getComplaintsByVehicle(e){try{const{data:n,error:r}=await ce.from("complaints").select(`
          *,
          vehicles!inner(registration_number, depot)
        `).eq("chassis_number",e).order("created_at",{ascending:!1});return r?(console.error("Error fetching complaints by vehicle:",r),[]):(n==null?void 0:n.map(s=>{var i,o,l;return{id:s.id,chassis:s.chassis_number,text:s.description,date:((i=s.created_at)==null?void 0:i.split("T")[0])||new Date().toISOString().split("T")[0],status:s.status,vehicleReg:(o=s.vehicles)==null?void 0:o.registration_number,vehicleDepot:(l=s.vehicles)==null?void 0:l.depot}}))||[]}catch(n){return console.error("Error in getComplaintsByVehicle:",n),[]}}async addComplaint(e){var n,r,s;try{const{data:i,error:o}=await ce.from("complaints").insert({chassis_number:e.chassis,description:e.text,status:e.status,created_at:new Date().toISOString()}).select(`
          *,
          vehicles!inner(registration_number, depot)
        `).single();return o?(console.error("Error adding complaint:",o),null):{id:i.id,chassis:i.chassis_number,text:i.description,date:((n=i.created_at)==null?void 0:n.split("T")[0])||new Date().toISOString().split("T")[0],status:i.status,vehicleReg:(r=i.vehicles)==null?void 0:r.registration_number,vehicleDepot:(s=i.vehicles)==null?void 0:s.depot}}catch(i){return console.error("Error in addComplaint:",i),null}}async updateComplaint(e,n){var r,s,i;try{const{data:o,error:l}=await ce.from("complaints").update(n).eq("id",e).select(`
          *,
          vehicles!inner(registration_number, depot)
        `).single();return l?(console.error("Error updating complaint:",l),null):{id:o.id,chassis:o.chassis_number,text:o.description,date:((r=o.created_at)==null?void 0:r.split("T")[0])||new Date().toISOString().split("T")[0],status:o.status,vehicleReg:(s=o.vehicles)==null?void 0:s.registration_number,vehicleDepot:(i=o.vehicles)==null?void 0:i.depot}}catch(o){return console.error("Error in updateComplaint:",o),null}}async getOdometers(){try{const{data:e,error:n}=await ce.from("odometer_readings").select(`
          *,
          vehicles!inner(registration_number)
        `).order("reading_date",{ascending:!1});return n?(console.error("Error fetching odometer readings:",n),[]):(e==null?void 0:e.map(r=>{var s;return{id:r.id,chassis:r.chassis_number,value:r.reading_value,date:r.reading_date,vehicleReg:(s=r.vehicles)==null?void 0:s.registration_number}}))||[]}catch(e){return console.error("Error in getOdometers:",e),[]}}async getOdometersByVehicle(e){try{const{data:n,error:r}=await ce.from("odometer_readings").select(`
          *,
          vehicles!inner(registration_number)
        `).eq("chassis_number",e).order("reading_date",{ascending:!1});return r?(console.error("Error fetching odometer readings by vehicle:",r),[]):(n==null?void 0:n.map(s=>{var i;return{id:s.id,chassis:s.chassis_number,value:s.reading_value,date:s.reading_date,vehicleReg:(i=s.vehicles)==null?void 0:i.registration_number}}))||[]}catch(n){return console.error("Error in getOdometersByVehicle:",n),[]}}async addOdometer(e){var n;try{const{data:r,error:s}=await ce.from("odometer_readings").insert({chassis_number:e.chassis,reading_value:e.value,reading_date:e.date}).select(`
          *,
          vehicles!inner(registration_number)
        `).single();return s?(console.error("Error adding odometer reading:",s),null):{id:r.id,chassis:r.chassis_number,value:r.reading_value,date:r.reading_date,vehicleReg:(n=r.vehicles)==null?void 0:n.registration_number}}catch(r){return console.error("Error in addOdometer:",r),null}}async uploadFile(e){try{const{data:n,error:r}=await ce.from("file_uploads").insert({file_name:e.name,file_content:e.content,chassis_number:e.chassis,file_type:e.type,uploaded_at:new Date().toISOString()}).select().single();return r?(console.error("Error uploading file:",r),null):{id:n.id,name:n.file_name,content:n.file_content,chassis:n.chassis_number,type:n.file_type,uploadDate:n.uploaded_at}}catch(n){return console.error("Error in uploadFile:",n),null}}async getFilesByType(e,n){try{let r=ce.from("file_uploads").select("*").eq("file_type",e).order("uploaded_at",{ascending:!1});n&&(r=r.eq("chassis_number",n));const{data:s,error:i}=await r;return i?(console.error("Error fetching files:",i),[]):(s==null?void 0:s.map(o=>({id:o.id,name:o.file_name,content:o.file_content,chassis:o.chassis_number,type:o.file_type,uploadDate:o.uploaded_at})))||[]}catch(r){return console.error("Error in getFilesByType:",r),[]}}async getOdometerSummary(){try{const{data:e,error:n}=await ce.from("vehicles").select("*"),{data:r,error:s}=await ce.from("odometer_readings").select("*").order("reading_date",{ascending:!1});if(n||s)return console.error("Error fetching odometer summary data:",n||s),[];const i={};return e==null||e.forEach(l=>{const a=l.depot||"Unknown Depot";i[a]||(i[a]=[]),i[a].push(l)}),Object.entries(i).map(([l,a])=>{const c=a.map(d=>{const f=((r==null?void 0:r.filter(v=>v.chassis_number===d.chassis_number))||[])[0];return{reg:d.registration_number||"N/A",lastReading:(f==null?void 0:f.reading_value)||0,date:(f==null?void 0:f.reading_date)||"No readings"}});return{depot:l,totalOdometer:c.reduce((d,h)=>d+h.lastReading,0),vehicleCount:c.length,vehicles:c}})}catch(e){return console.error("Error in getOdometerSummary:",e),[]}}}const he=new I0,ao=({onViewDetails:t})=>{const[e,n]=P.useState([]),[r,s]=P.useState(!0);P.useEffect(()=>{i()},[]);const i=async()=>{try{const l=await he.getVehicles();n(l)}catch(l){console.error("Error loading vehicles:",l)}finally{s(!1)}},o=l=>{if(!l)return"Unknown";const a=l.substring(0,2).toUpperCase();return{KA:"Karnataka",TN:"Tamil Nadu",AP:"Andhra Pradesh",TS:"Telangana",MH:"Maharashtra",DL:"Delhi",UP:"Uttar Pradesh",GJ:"Gujarat",RJ:"Rajasthan",MP:"Madhya Pradesh",HR:"Haryana",PB:"Punjab",WB:"West Bengal",OR:"Odisha",JH:"Jharkhand",BR:"Bihar",AS:"Assam",KL:"Kerala"}[a]||"Unknown State"};return r?u.jsxs("div",{className:"flex items-center justify-center py-12",children:[u.jsx(Ie,{className:"h-8 w-8 animate-spin text-green-600"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading vehicles..."})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Vehicle Fleet Management"}),u.jsx("p",{className:"text-gray-600",children:"Electric vehicle fleet across Bangalore, Mysore, and Hubli depots"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-green-500 to-green-600 text-white",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ms,{className:"h-6 w-6"}),u.jsx("h3",{className:"text-xl font-semibold",children:"Fleet Overview"})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Vehicle Number"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Registration State"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Chassis Number"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Fleet Operation Depot"}),u.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(l=>{var a,c,d;return u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(ms,{className:"h-4 w-4 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900",children:l.reg||"N/A"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Registration Number"})]})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Iu,{className:"h-4 w-4 text-gray-400"}),u.jsx("span",{className:"text-gray-900",children:o(l.reg||"")})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"font-mono text-sm text-gray-900 bg-gray-100 px-2 py-1 rounded",children:l.chassis})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${(a=l.depot)!=null&&a.includes("Bangalore")?"bg-blue-500":(c=l.depot)!=null&&c.includes("Mysore")?"bg-green-500":(d=l.depot)!=null&&d.includes("Hubli")?"bg-orange-500":"bg-gray-500"}`}),u.jsx("span",{className:"text-gray-900",children:l.depot||"Unknown Depot"})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("button",{onClick:()=>t(l),className:"inline-flex items-center px-3 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(ca,{className:"h-4 w-4 mr-1"}),"View Details"]})})]},l.id)})})]})}),e.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(ms,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 text-lg",children:"No vehicles found"}),u.jsx("p",{className:"text-gray-400",children:"Vehicle data will appear here once loaded"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-blue-100",children:"Total Vehicles"}),u.jsx("p",{className:"text-3xl font-bold",children:e.length})]}),u.jsx(ms,{className:"h-12 w-12 text-blue-200"})]})}),u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-green-100",children:"Active Depots"}),u.jsx("p",{className:"text-3xl font-bold",children:new Set(e.map(l=>l.depot).filter(Boolean)).size})]}),u.jsx(Iu,{className:"h-12 w-12 text-green-200"})]})}),u.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-purple-100",children:"Registration States"}),u.jsx("p",{className:"text-3xl font-bold",children:new Set(e.map(l=>o(l.reg||"")).filter(l=>l!=="Unknown State")).size})]}),u.jsx("div",{className:"h-12 w-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center font-bold text-lg",children:"ST"})]})})]})]})},D0=({vehicles:t})=>{const[e,n]=P.useState([]),[r,s]=P.useState(!1),[i,o]=P.useState(!1),[l,a]=P.useState(null),{user:c}=Ut();P.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0);const w=await he.getFilesByType("sop");n(w)}catch(w){console.error("Error loading SOP files:",w)}finally{s(!1)}},h=async w=>{var g;const p=(g=w.target.files)==null?void 0:g[0];if(!p)return;if((c==null?void 0:c.role)==="viewer"){alert("Viewers cannot upload files.");return}const m=5*1024*1024;if(p.size>m){alert("File is too large. Maximum size is 5MB.");return}try{o(!0);const y=new FileReader;y.onload=async k=>{var E;const j=(E=k.target)==null?void 0:E.result;await he.uploadFile({name:p.name,content:j.split(",")[1],chassis:"GENERAL",type:"sop"})&&(await d(),w.target.value="")},y.readAsDataURL(p)}catch(y){console.error("Error uploading file:",y),alert("Failed to upload file. Please try again.")}finally{o(!1)}},f=w=>{const p=w.toLowerCase().split(".").pop();return["pdf","jpg","jpeg","png","gif","webp"].includes(p||"")},v=w=>{f(w.name)?a(w):alert("Cannot view this file type. Only PDF and image files can be viewed.")},_=w=>{try{const p=atob(w.content),m=new Array(p.length);for(let S=0;S<p.length;S++)m[S]=p.charCodeAt(S);const g=new Uint8Array(m),y=new Blob([g]),k=window.URL.createObjectURL(y),j=document.createElement("a");j.href=k,j.download=w.name,document.body.appendChild(j),j.click(),document.body.removeChild(j),window.URL.revokeObjectURL(k)}catch(p){console.error("Error downloading file:",p),alert("Failed to download file.")}},x=()=>{if(!l)return null;const w=["jpg","jpeg","png","gif","webp"].includes(l.name.toLowerCase().split(".").pop()||"");return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-4xl max-h-[90vh] overflow-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:l.name}),u.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700",children:u.jsx(Nh,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"text-center",children:w?u.jsx("img",{src:`data:image/${l.name.split(".").pop()};base64,${l.content}`,alt:l.name,className:"max-w-full max-h-[70vh] object-contain"}):u.jsx("iframe",{src:`data:application/pdf;base64,${l.content}`,className:"w-full h-[70vh]",title:l.name})})]})})};return r?u.jsxs("div",{className:"flex items-center justify-center py-12",children:[u.jsx(Ie,{className:"h-8 w-8 animate-spin text-blue-600"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading SOP files..."})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Standard Operating Procedures"}),u.jsx("p",{className:"text-gray-600",children:"Upload and manage SOP documents"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[((c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="upload")&&u.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border-2 border-dashed border-blue-300",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ni,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload SOP Files"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Upload standard operating procedure documents (PDF, images, etc.)"}),u.jsxs("label",{className:"cursor-pointer",children:[u.jsx("input",{type:"file",className:"hidden",onChange:h,disabled:i,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.txt"}),u.jsx("span",{className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:i?u.jsxs(u.Fragment,{children:[u.jsx(Ie,{className:"h-5 w-5 animate-spin mr-2"}),"Uploading..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ni,{className:"h-5 w-5 mr-2"}),"Choose File"]})})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Supported formats: PDF, DOC, DOCX, JPG, PNG, GIF, TXT (Max 5MB)"})]})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Uploaded Files (",e.length,")"]}),e.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx($r,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"No SOP files uploaded yet"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(w=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx($r,{className:"h-8 w-8 text-blue-500 flex-shrink-0 mt-1"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-medium text-gray-900 truncate",children:w.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Uploaded: ",new Date(w.uploadDate).toLocaleDateString()]}),u.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[f(w.name)?u.jsxs("button",{onClick:()=>v(w),className:"flex items-center px-3 py-1 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors",children:[u.jsx(ca,{className:"h-4 w-4 mr-1"}),"View"]}):u.jsxs("div",{className:"flex items-center px-3 py-1 bg-orange-100 text-orange-700 rounded-md",children:[u.jsx(Hr,{className:"h-4 w-4 mr-1"}),"Cannot View"]}),u.jsxs("button",{onClick:()=>_(w),className:"flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:[u.jsx(Sh,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})]})},w.id))})]})]}),x()]})},U0=({vehicles:t})=>{const[e,n]=P.useState([]),[r,s]=P.useState(!1),[i,o]=P.useState(!1),[l,a]=P.useState(null),{user:c}=Ut();P.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0);const w=await he.getFilesByType("retro");n(w)}catch(w){console.error("Error loading Retro files:",w)}finally{s(!1)}},h=async w=>{var g;const p=(g=w.target.files)==null?void 0:g[0];if(!p)return;if((c==null?void 0:c.role)==="viewer"){alert("Viewers cannot upload files.");return}const m=5*1024*1024;if(p.size>m){alert("File is too large. Maximum size is 5MB.");return}try{o(!0);const y=new FileReader;y.onload=async k=>{var E;const j=(E=k.target)==null?void 0:E.result;await he.uploadFile({name:p.name,content:j.split(",")[1],chassis:"GENERAL",type:"retro"})&&(await d(),w.target.value="")},y.readAsDataURL(p)}catch(y){console.error("Error uploading file:",y),alert("Failed to upload file. Please try again.")}finally{o(!1)}},f=w=>{const p=w.toLowerCase().split(".").pop();return["pdf","jpg","jpeg","png","gif","webp"].includes(p||"")},v=w=>{f(w.name)?a(w):alert("Cannot view this file type. Only PDF and image files can be viewed.")},_=w=>{try{const p=atob(w.content),m=new Array(p.length);for(let S=0;S<p.length;S++)m[S]=p.charCodeAt(S);const g=new Uint8Array(m),y=new Blob([g]),k=window.URL.createObjectURL(y),j=document.createElement("a");j.href=k,j.download=w.name,document.body.appendChild(j),j.click(),document.body.removeChild(j),window.URL.revokeObjectURL(k)}catch(p){console.error("Error downloading file:",p),alert("Failed to download file.")}},x=()=>{if(!l)return null;const w=["jpg","jpeg","png","gif","webp"].includes(l.name.toLowerCase().split(".").pop()||"");return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-4xl max-h-[90vh] overflow-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:l.name}),u.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700",children:u.jsx(Nh,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"text-center",children:w?u.jsx("img",{src:`data:image/${l.name.split(".").pop()};base64,${l.content}`,alt:l.name,className:"max-w-full max-h-[70vh] object-contain"}):u.jsx("iframe",{src:`data:application/pdf;base64,${l.content}`,className:"w-full h-[70vh]",title:l.name})})]})})};return r?u.jsxs("div",{className:"flex items-center justify-center py-12",children:[u.jsx(Ie,{className:"h-8 w-8 animate-spin text-purple-600"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading Retro files..."})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Retro Summary Files"}),u.jsx("p",{className:"text-gray-600",children:"Upload and manage retrospective summary documents"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[((c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="upload")&&u.jsx("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg border-2 border-dashed border-purple-300",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ni,{className:"h-12 w-12 text-purple-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Retro Files"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Upload retrospective summary documents (PDF, images, etc.)"}),u.jsxs("label",{className:"cursor-pointer",children:[u.jsx("input",{type:"file",className:"hidden",onChange:h,disabled:i,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.txt"}),u.jsx("span",{className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-colors",children:i?u.jsxs(u.Fragment,{children:[u.jsx(Ie,{className:"h-5 w-5 animate-spin mr-2"}),"Uploading..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ni,{className:"h-5 w-5 mr-2"}),"Choose File"]})})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Supported formats: PDF, DOC, DOCX, JPG, PNG, GIF, TXT (Max 5MB)"})]})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Uploaded Files (",e.length,")"]}),e.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx($r,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"No Retro files uploaded yet"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(w=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx($r,{className:"h-8 w-8 text-purple-500 flex-shrink-0 mt-1"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-medium text-gray-900 truncate",children:w.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Uploaded: ",new Date(w.uploadDate).toLocaleDateString()]}),u.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[f(w.name)?u.jsxs("button",{onClick:()=>v(w),className:"flex items-center px-3 py-1 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors",children:[u.jsx(ca,{className:"h-4 w-4 mr-1"}),"View"]}):u.jsxs("div",{className:"flex items-center px-3 py-1 bg-orange-100 text-orange-700 rounded-md",children:[u.jsx(Hr,{className:"h-4 w-4 mr-1"}),"Cannot View"]}),u.jsxs("button",{onClick:()=>_(w),className:"flex items-center px-3 py-1 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200 transition-colors",children:[u.jsx(Sh,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})]})},w.id))})]})]}),x()]})},F0=({vehicles:t})=>{const[e,n]=P.useState([]),[r,s]=P.useState(!0),[i,o]=P.useState("all"),[l,a]=P.useState(null),[c,d]=P.useState(!1),[h,f]=P.useState(!1),[v,_]=P.useState({chassis:"",text:"",status:"open"}),{user:x}=Ut();P.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const y=await he.getComplaints();n(y)}catch(y){console.error("Error loading complaints:",y)}finally{s(!1)}},p=async y=>{if((x==null?void 0:x.role)!=="admin"){alert("Only admins can close complaints.");return}try{a(y),await he.updateComplaint(y,{status:"cleared"}),await w()}catch(k){console.error("Error closing complaint:",k),alert("Failed to close complaint. Please try again.")}finally{a(null)}},m=async y=>{if(y.preventDefault(),!v.chassis||!v.text){alert("Please fill in all required fields.");return}try{f(!0);const k=new Date().toISOString().split("T")[0];await he.addComplaint({chassis:v.chassis,text:v.text,status:v.status,date:k}),_({chassis:"",text:"",status:"open"}),d(!1),await w()}catch(k){console.error("Error adding complaint:",k),alert("Failed to add complaint. Please try again.")}finally{f(!1)}},g=e.filter(y=>i==="all"||y.status===i);return r?u.jsxs("div",{className:"flex items-center justify-center py-12",children:[u.jsx(Ie,{className:"h-8 w-8 animate-spin text-green-600"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading complaints..."})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complaints Summary"}),u.jsx("p",{className:"text-gray-600",children:"Track and manage vehicle complaints"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(E0,{className:"h-5 w-5 text-gray-400"}),u.jsx("label",{htmlFor:"status-filter",className:"font-medium text-gray-700",children:"Filter by Status:"}),u.jsxs("select",{id:"status-filter",value:i,onChange:y=>o(y.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:"All"}),u.jsx("option",{value:"open",children:"Open"}),u.jsx("option",{value:"cleared",children:"Cleared"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"text-sm text-gray-500",children:[g.length," complaint",g.length!==1?"s":""," found"]}),((x==null?void 0:x.role)==="admin"||(x==null?void 0:x.role)==="upload")&&u.jsxs("button",{onClick:()=>d(!c),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(ti,{className:"h-4 w-4 mr-2"}),"Add Complaint"]})]})]}),c&&((x==null?void 0:x.role)==="admin"||(x==null?void 0:x.role)==="upload")&&u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Complaint"}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"vehicle-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle *"}),u.jsxs("select",{id:"vehicle-select",value:v.chassis,onChange:y=>_({...v,chassis:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[u.jsx("option",{value:"",children:"Select a vehicle..."}),t.map(y=>u.jsxs("option",{value:y.chassis,children:[y.reg," - ",y.chassis," (",y.depot,")"]},y.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"complaint-text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Complaint Description *"}),u.jsx("textarea",{id:"complaint-text",value:v.text,onChange:y=>_({...v,text:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:"Describe the issue or complaint...",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"status-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{id:"status-select",value:v.status,onChange:y=>_({...v,status:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[u.jsx("option",{value:"open",children:"Open"}),u.jsx("option",{value:"cleared",children:"Cleared"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:h,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?u.jsxs(u.Fragment,{children:[u.jsx(Ie,{className:"h-4 w-4 animate-spin mr-2"}),"Adding..."]}):"Add Complaint"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-green-600 text-white",children:[u.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Vehicle Registration"}),u.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Fleet Operation Depot"}),u.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Complaint"}),u.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Date"}),u.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Action"})]})}),u.jsx("tbody",{children:g.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No complaints found"})}):g.map((y,k)=>u.jsxs("tr",{className:`border-b border-gray-200 hover:bg-gray-50 transition-colors ${k%2===0?"bg-white":"bg-gray-50"}`,children:[u.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:y.vehicleReg||"N/A"}),u.jsx("td",{className:"px-6 py-4 text-gray-700",children:y.vehicleDepot||"N/A"}),u.jsx("td",{className:"px-6 py-4 text-gray-700",children:y.text}),u.jsx("td",{className:"px-6 py-4 text-gray-700",children:new Date(y.date).toLocaleDateString()}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${y.status==="open"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[y.status==="open"?u.jsx(Hr,{className:"h-4 w-4"}):u.jsx(N0,{className:"h-4 w-4"}),u.jsx("span",{className:"capitalize",children:y.status})]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:y.status==="open"&&(x==null?void 0:x.role)==="admin"?u.jsx("button",{onClick:()=>p(y.id),disabled:l===y.id,className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l===y.id?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ie,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{children:"Closing..."})]}):"Close"}):u.jsx("span",{className:"text-gray-400 font-medium",children:"Locked"})})]},y.id))})]})})]})]})},M0=()=>{const[t,e]=P.useState([]),[n,r]=P.useState(!0),[s,i]=P.useState(!1),[o,l]=P.useState("all"),[a,c]=P.useState(!1),[d,h]=P.useState(!1),[f,v]=P.useState({chassis:"",value:"",date:new Date().toISOString().split("T")[0]}),[_,x]=P.useState([]),{user:w}=Ut();P.useEffect(()=>{p(),m()},[]);const p=async()=>{try{r(!0);const S=await he.getOdometerSummary();e(S)}catch(S){console.error("Error loading odometer summary:",S)}finally{r(!1)}},m=async()=>{try{const S=await he.getVehicles();x(S)}catch(S){console.error("Error loading vehicles:",S)}},g=async S=>{if(S.preventDefault(),!f.chassis||!f.value||!f.date){alert("Please fill in all required fields.");return}try{h(!0),await he.addOdometer({chassis:f.chassis,value:parseInt(f.value),date:f.date}),v({chassis:"",value:"",date:new Date().toISOString().split("T")[0]}),c(!1),await p()}catch(E){console.error("Error adding odometer reading:",E),alert("Failed to add odometer reading. Please try again.")}finally{h(!1)}},y=async()=>{try{i(!0),await p()}finally{i(!1)}},j=((S,E)=>{if(E==="all")return S;const U=new Date,O={day:24*60*60*1e3,week:7*24*60*60*1e3,month:30*24*60*60*1e3};return S.map(le=>{const et=le.vehicles.filter(tt=>{const on=new Date(tt.date);return U.getTime()-on.getTime()<=O[E]});return{...le,vehicles:et,totalOdometer:et.reduce((tt,on)=>tt+on.lastReading,0),vehicleCount:et.length}}).filter(le=>le.vehicleCount>0)})(t,o);return n?u.jsxs("div",{className:"flex items-center justify-center py-12",children:[u.jsx(Ie,{className:"h-8 w-8 animate-spin text-green-600"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading odometer summary..."})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Odometer Summary"}),u.jsx("p",{className:"text-gray-600",children:"Vehicle mileage tracking and analytics"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(kh,{className:"h-5 w-5 text-gray-400"}),u.jsx("label",{htmlFor:"time-filter",className:"font-medium text-gray-700",children:"Filter by Time Period:"}),u.jsxs("select",{id:"time-filter",value:o,onChange:S=>l(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:"All Time"}),u.jsx("option",{value:"day",children:"Last 24 Hours"}),u.jsx("option",{value:"week",children:"Last Week"}),u.jsx("option",{value:"month",children:"Last Month"})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[((w==null?void 0:w.role)==="admin"||(w==null?void 0:w.role)==="upload")&&u.jsxs("button",{onClick:()=>c(!a),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(ti,{className:"h-4 w-4 mr-2"}),"Add Reading"]}),u.jsxs("button",{onClick:y,disabled:s,className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors font-medium disabled:opacity-50",children:[u.jsx(O0,{className:`h-4 w-4 ${s?"animate-spin":""}`}),u.jsx("span",{children:s?"Refreshing...":"Refresh Data"})]})]})]}),a&&((w==null?void 0:w.role)==="admin"||(w==null?void 0:w.role)==="upload")&&u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Odometer Reading"}),u.jsxs("form",{onSubmit:g,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"vehicle-select-odometer",className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle *"}),u.jsxs("select",{id:"vehicle-select-odometer",value:f.chassis,onChange:S=>v({...f,chassis:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[u.jsx("option",{value:"",children:"Select a vehicle..."}),_.map(S=>u.jsxs("option",{value:S.chassis,children:[S.reg," - ",S.chassis," (",S.depot,")"]},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"odometer-value",className:"block text-sm font-medium text-gray-700 mb-2",children:"Odometer Reading (km) *"}),u.jsx("input",{type:"number",id:"odometer-value",value:f.value,onChange:S=>v({...f,value:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter odometer reading...",min:"0",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"reading-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Reading Date *"}),u.jsx("input",{type:"date",id:"reading-date",value:f.date,onChange:S=>v({...f,date:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:d,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?u.jsxs(u.Fragment,{children:[u.jsx(Ie,{className:"h-4 w-4 animate-spin mr-2"}),"Adding..."]}):"Add Reading"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-xl",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(ei,{className:"h-8 w-8"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-blue-100",children:"Total Distance"}),u.jsxs("p",{className:"text-2xl font-bold",children:[j.reduce((S,E)=>S+E.totalOdometer,0).toLocaleString()," km"]})]})]})}),u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-xl",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"h-8 w-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center font-bold",children:"D"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-green-100",children:"Active Depots"}),u.jsx("p",{className:"text-2xl font-bold",children:j.length})]})]})}),u.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-xl",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"h-8 w-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center font-bold",children:"V"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-purple-100",children:"Total Vehicles"}),u.jsx("p",{className:"text-2xl font-bold",children:j.reduce((S,E)=>S+E.vehicleCount,0)})]})]})})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-green-600 text-white",children:[u.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Depot"}),u.jsx("th",{className:"px-6 py-4 text-right font-semibold",children:"Total Odometer (km)"}),u.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Vehicle Count"}),u.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Vehicle Details"})]})}),u.jsx("tbody",{children:j.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No odometer data available for the selected time period"})}):j.map((S,E)=>u.jsxs("tr",{className:`border-b border-gray-200 hover:bg-gray-50 transition-colors ${E%2===0?"bg-white":"bg-gray-50"}`,children:[u.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:S.depot}),u.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-blue-600",children:[S.totalOdometer.toLocaleString()," km"]}),u.jsx("td",{className:"px-6 py-4 text-center font-medium",children:S.vehicleCount}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"space-y-1",children:S.vehicles.sort((U,O)=>U.reg.localeCompare(O.reg)).map((U,O)=>u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"font-medium text-gray-900",children:U.reg}),u.jsxs("span",{className:"text-gray-500 ml-2",children:["(",U.lastReading.toLocaleString()," km)"]})]},O))})})]},S.depot))})]})})]})]})},z0=({vehicle:t,onBack:e})=>{const[n,r]=P.useState([]),[s,i]=P.useState([]),[o,l]=P.useState(!0),[a,c]=P.useState(""),[d,h]=P.useState("open"),[f,v]=P.useState(""),[_,x]=P.useState(!1),{user:w}=Ut();P.useEffect(()=>{p()},[t.chassis]);const p=async()=>{try{l(!0);const[k,j]=await Promise.all([he.getComplaintsByVehicle(t.chassis),he.getOdometersByVehicle(t.chassis)]);r(k),i(j.sort((S,E)=>new Date(E.date).getTime()-new Date(S.date).getTime()))}catch(k){console.error("Error loading vehicle data:",k)}finally{l(!1)}},m=async()=>{if((w==null?void 0:w.role)!=="admin"){alert("Only admins can add complaints.");return}if(!a.trim()){alert("Please enter a complaint description.");return}try{x(!0),await he.addComplaint({chassis:t.chassis,text:a.trim(),status:d,date:new Date().toISOString()}),c(""),await p()}catch(k){console.error("Error adding complaint:",k),alert("Failed to add complaint. Please try again.")}finally{x(!1)}},g=async()=>{if((w==null?void 0:w.role)!=="admin"){alert("Only admins can add odometer readings.");return}const k=parseFloat(f);if(!f.trim()||isNaN(k)||k<0){alert("Please enter a valid odometer reading.");return}try{x(!0),await he.addOdometer({chassis:t.chassis,value:k,date:new Date().toISOString()}),v(""),await p()}catch(j){console.error("Error adding odometer:",j),alert("Failed to add odometer reading. Please try again.")}finally{x(!1)}},y=(w==null?void 0:w.role)==="admin";return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[u.jsx(j0,{className:"h-5 w-5"}),u.jsx("span",{children:"Back to Home"})]}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Vehicle Details"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Chassis Number:"}),u.jsx("span",{className:"font-medium font-mono text-sm",children:t.chassis})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Registration Number:"}),u.jsx("span",{className:"font-medium",children:t.reg||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Motor Number:"}),u.jsx("span",{className:"font-medium",children:t.motor||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Dispatch Date:"}),u.jsx("span",{className:"font-medium",children:t.dispatch||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Registration Date:"}),u.jsx("span",{className:"font-medium",children:t.regDate||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Allocated Depot:"}),u.jsx("span",{className:"font-medium",children:t.depot||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Manufacturing Date:"}),u.jsx("span",{className:"font-medium",children:t.mfgDate||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Model:"}),u.jsx("span",{className:"font-medium",children:t.model||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Colour:"}),u.jsx("span",{className:"font-medium",children:t.colour||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Seating Capacity:"}),u.jsx("span",{className:"font-medium",children:t.seating||"N/A"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Motor Power (kW):"}),u.jsx("span",{className:"font-medium",children:t.motorKw||"N/A"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Additional Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Warranty Details"}),u.jsx("p",{className:"text-gray-600",children:"2 years standard warranty from manufacturing date"})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Last Maintenance"}),u.jsx("p",{className:"text-gray-600",children:"Service data not available"})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Wheel Alignment"}),u.jsx("p",{className:"text-gray-600",children:"Last alignment data not available"})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[u.jsx(Hr,{className:"h-5 w-5"}),u.jsx("span",{children:"Complaint History"})]})}),o?u.jsxs("div",{className:"flex items-center justify-center py-6",children:[u.jsx(Ie,{className:"h-5 w-5 animate-spin text-green-600"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"space-y-3 mb-4 max-h-48 overflow-y-auto",children:n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-4",children:"No complaints recorded"}):n.map(k=>u.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-gray-900 font-medium",children:k.text}),u.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:new Date(k.date).toLocaleDateString()}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.status==="open"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})]})]},k.id))}),y&&u.jsx("div",{className:"border-t pt-4",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"text",value:a,onChange:k=>c(k.target.value),placeholder:"Enter new complaint",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("select",{value:d,onChange:k=>h(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[u.jsx("option",{value:"open",children:"Open"}),u.jsx("option",{value:"cleared",children:"Cleared"})]}),u.jsxs("button",{onClick:m,disabled:_,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50",children:[u.jsx(ti,{className:"h-4 w-4"}),u.jsx("span",{children:_?"Adding...":"Submit"})]})]})]})})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[u.jsx(ei,{className:"h-5 w-5"}),u.jsx("span",{children:"Odometer Readings"})]})}),o?u.jsxs("div",{className:"flex items-center justify-center py-6",children:[u.jsx(Ie,{className:"h-5 w-5 animate-spin text-green-600"}),u.jsx("span",{className:"ml-2 text-gray-600",children:"Loading..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"space-y-3 mb-4 max-h-48 overflow-y-auto",children:s.length===0?u.jsx("p",{className:"text-gray-500 text-center py-4",children:"No odometer readings recorded"}):s.map(k=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(ei,{className:"h-4 w-4 text-blue-500"}),u.jsxs("span",{className:"font-semibold text-gray-900",children:[k.value.toLocaleString()," km"]})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[u.jsx(kh,{className:"h-4 w-4"}),u.jsx("span",{children:new Date(k.date).toLocaleDateString()})]})]},k.id))}),y&&u.jsx("div",{className:"border-t pt-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"number",value:f,onChange:k=>v(k.target.value),placeholder:"Enter odometer reading",min:"0",step:"0.1",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),u.jsxs("button",{onClick:g,disabled:_,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50",children:[u.jsx(ti,{className:"h-4 w-4"}),u.jsx("span",{children:_?"Adding...":"Update"})]})]})})]})]})]})]})},B0=()=>{const{user:t,loading:e}=Ut(),[n,r]=P.useState("home"),[s,i]=P.useState(null),[o,l]=P.useState([]);P.useEffect(()=>{t&&a()},[t]);const a=async()=>{try{const f=await he.getVehicles();l(f)}catch(f){console.error("Error loading vehicles:",f)}},c=f=>{i(f),r("vehicle-details")},d=()=>{i(null),r("home")};if(e)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(!t)return u.jsx(A0,{});const h=()=>{switch(n){case"home":return u.jsx(ao,{onViewDetails:c});case"sop":return u.jsx(D0,{vehicles:o});case"retro":return u.jsx(U0,{vehicles:o});case"complaints":return u.jsx(F0,{vehicles:o});case"odometer":return u.jsx(M0,{});case"vehicle-details":return s?u.jsx(z0,{vehicle:s,onBack:d}):u.jsx(ao,{onViewDetails:c});default:return u.jsx(ao,{onViewDetails:c})}};return u.jsxs(L0,{children:[n!=="vehicle-details"&&u.jsx($0,{currentPage:n,onPageChange:r}),h()]})};function V0(){return u.jsx(x0,{children:u.jsx(B0,{})})}Qd(document.getElementById("root")).render(u.jsx(P.StrictMode,{children:u.jsx(V0,{})}));
